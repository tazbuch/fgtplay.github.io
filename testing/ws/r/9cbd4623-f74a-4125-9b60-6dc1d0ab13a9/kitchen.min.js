var Kitchen;!function(){var n={153:function(n,r,t){var e;/*! howler.js v2.2.0 | (c) 2013-2020, James Simpson of GoldFire Studios | MIT License | howlerjs.com */!function(){"use strict";var a=function(){this.init()};a.prototype={init:function(){var n=this||o;return n.t=1e3,n.m=[],n.html5PoolSize=10,n.M={},n.A=[],n.$=!1,n._=1,n.C="canplaythrough",n.F="undefined"!=typeof window&&window.navigator?window.navigator:null,n.masterGain=null,n.noAudio=!1,n.usingWebAudio=!0,n.autoSuspend=!0,n.ctx=null,n.autoUnlock=!0,n.T(),n},volume:function(n){var r=this||o;if(n=parseFloat(n),r.ctx||d(),void 0!==n&&n>=0&&n<=1){if(r._=n,r.$)return r;r.usingWebAudio&&r.masterGain.gain.setValueAtTime(n,o.ctx.currentTime);for(var t=0;t<r.A.length;t++)if(!r.A[t].k)for(var e=r.A[t].P(),a=0;a<e.length;a++){var i=r.A[t].S(e[a]);i&&i.I&&(i.I.volume=i._*n)}return r}return r._},mute:function(n){var r=this||o;r.ctx||d(),r.$=n,r.usingWebAudio&&r.masterGain.gain.setValueAtTime(n?0:r._,o.ctx.currentTime);for(var t=0;t<r.A.length;t++)if(!r.A[t].k)for(var e=r.A[t].P(),a=0;a<e.length;a++){var i=r.A[t].S(e[a]);i&&i.I&&(i.I.muted=!!n||i.$)}return r},stop:function(){for(var n=this||o,r=0;r<n.A.length;r++)n.A[r].stop();return n},unload:function(){for(var n=this||o,r=n.A.length-1;r>=0;r--)n.A[r].unload();return n.usingWebAudio&&n.ctx&&void 0!==n.ctx.close&&(n.ctx.close(),n.ctx=null,d()),n},codecs:function(n){return(this||o).M[n.replace(/^x-/,"")]},T:function(){var n=this||o;if(n.state=n.ctx&&n.ctx.state||"suspended",n.D(),!n.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(n.C="canplay")}catch(r){n.noAudio=!0}else n.noAudio=!0;try{(new Audio).muted&&(n.noAudio=!0)}catch(n){}return n.noAudio||n.j(),n},j:function(){var n=this||o,r=null;try{r="undefined"!=typeof Audio?new Audio:null}catch(r){return n}if(!r||"function"!=typeof r.canPlayType)return n;var t=r.canPlayType("audio/mpeg;").replace(/^no$/,""),e=n.F&&n.F.userAgent.match(/OPR\/([0-6].)/g),a=e&&parseInt(e[0].split("/")[1],10)<33;return n.M={mp3:!(a||!t&&!r.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!t,opus:!!r.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!r.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!r.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!r.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(r.canPlayType("audio/x-m4a;")||r.canPlayType("audio/m4a;")||r.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(r.canPlayType("audio/x-m4b;")||r.canPlayType("audio/m4b;")||r.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(r.canPlayType("audio/x-mp4;")||r.canPlayType("audio/mp4;")||r.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!r.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(r.canPlayType("audio/x-flac;")||r.canPlayType("audio/flac;")).replace(/^no$/,"")},n},O:function(){var n=this||o;if(!n.N&&n.ctx){n.N=!1,n.autoUnlock=!1,n.R||44100===n.ctx.sampleRate||(n.R=!0,n.unload()),n.B=n.ctx.createBuffer(1,1,22050);var r=function(t){for(;n.m.length<n.html5PoolSize;)try{var e=new Audio;e.L=!0,n.G(e)}catch(t){n.noAudio=!0;break}for(var a=0;a<n.A.length;a++)if(!n.A[a].k)for(var o=n.A[a].P(),i=0;i<o.length;i++){var u=n.A[a].S(o[i]);u&&u.I&&!u.I.L&&(u.I.L=!0,u.I.load())}n.K();var f=n.ctx.createBufferSource();f.buffer=n.B,f.connect(n.ctx.destination),void 0===f.start?f.noteOn(0):f.start(0),"function"==typeof n.ctx.resume&&n.ctx.resume(),f.onended=function(){f.disconnect(0),n.N=!0,document.removeEventListener("touchstart",r,!0),document.removeEventListener("touchend",r,!0),document.removeEventListener("click",r,!0);for(var t=0;t<n.A.length;t++)n.A[t].H("unlock")}};return document.addEventListener("touchstart",r,!0),document.addEventListener("touchend",r,!0),document.addEventListener("click",r,!0),n}},_obtainHtml5Audio:function(){var n=this||o;if(n.m.length)return n.m.pop();var r=(new Audio).play();return r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)&&r.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},G:function(n){var r=this||o;return n.L&&r.m.push(n),r},D:function(){var n=this;if(n.autoSuspend&&n.ctx&&void 0!==n.ctx.suspend&&o.usingWebAudio){for(var r=0;r<n.A.length;r++)if(n.A[r].k)for(var t=0;t<n.A[r].U.length;t++)if(!n.A[r].U[t].V)return n;return n.q&&clearTimeout(n.q),n.q=setTimeout((function(){if(n.autoSuspend){n.q=null,n.state="suspending";var r=function(){n.state="suspended",n.X&&(delete n.X,n.K())};n.ctx.suspend().then(r,r)}}),3e4),n}},K:function(){var n=this;if(n.ctx&&void 0!==n.ctx.resume&&o.usingWebAudio)return"running"===n.state&&"interrupted"!==n.ctx.state&&n.q?(clearTimeout(n.q),n.q=null):"suspended"===n.state||"running"===n.state&&"interrupted"===n.ctx.state?(n.ctx.resume().then((function(){n.state="running";for(var r=0;r<n.A.length;r++)n.A[r].H("resume")})),n.q&&(clearTimeout(n.q),n.q=null)):"suspending"===n.state&&(n.X=!0),n}};var o=new a,i=function(n){n.src&&0!==n.src.length?this.init(n):console.error("An array of source files must be passed with any new Howl.")};i.prototype={init:function(n){var r=this;return o.ctx||d(),r.Y=n.autoplay||!1,r.W="string"!=typeof n.format?n.format:[n.format],r.Z=n.html5||!1,r.$=n.mute||!1,r.J=n.loop||!1,r.nn=n.pool||5,r.rn="boolean"!=typeof n.preload&&"metadata"!==n.preload||n.preload,r.tn=n.rate||1,r.en=n.sprite||{},r.an="string"!=typeof n.src?n.src:[n.src],r._=void 0!==n.volume?n.volume:1,r.cn={method:n.xhr&&n.xhr.method?n.xhr.method:"GET",headers:n.xhr&&n.xhr.headers?n.xhr.headers:null,withCredentials:!(!n.xhr||!n.xhr.withCredentials)&&n.xhr.withCredentials},r.vn=0,r.ln="unloaded",r.U=[],r.sn={},r.dn=[],r.hn=!1,r._onend=n.onend?[{fn:n.onend}]:[],r._onfade=n.onfade?[{fn:n.onfade}]:[],r._onload=n.onload?[{fn:n.onload}]:[],r._onloaderror=n.onloaderror?[{fn:n.onloaderror}]:[],r._onplayerror=n.onplayerror?[{fn:n.onplayerror}]:[],r._onpause=n.onpause?[{fn:n.onpause}]:[],r._onplay=n.onplay?[{fn:n.onplay}]:[],r._onstop=n.onstop?[{fn:n.onstop}]:[],r._onmute=n.onmute?[{fn:n.onmute}]:[],r._onvolume=n.onvolume?[{fn:n.onvolume}]:[],r._onrate=n.onrate?[{fn:n.onrate}]:[],r._onseek=n.onseek?[{fn:n.onseek}]:[],r._onunlock=n.onunlock?[{fn:n.onunlock}]:[],r._onresume=[],r.k=o.usingWebAudio&&!r.Z,void 0!==o.ctx&&o.ctx&&o.autoUnlock&&o.O(),o.A.push(r),r.Y&&r.dn.push({event:"play",action:function(){r.play()}}),r.rn&&"none"!==r.rn&&r.load(),r},load:function(){var n=this,r=null;if(!o.noAudio){"string"==typeof n.an&&(n.an=[n.an]);for(var t=0;t<n.an.length;t++){var e,a;if(n.W&&n.W[t])e=n.W[t];else{if("string"!=typeof(a=n.an[t])){n.H("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(e=/^data:audio\/([^;,]+);/i.exec(a))||(e=/\.([^.]+)$/.exec(a.split("?",1)[0])),e&&(e=e[1].toLowerCase())}if(e||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),e&&o.codecs(e)){r=n.an[t];break}}return r?(n.an=r,n.ln="loading","https:"===window.location.protocol&&"http:"===r.slice(0,5)&&(n.Z=!0,n.k=!1),new u(n),n.k&&c(n),n):void n.H("loaderror",null,"No codec support for selected audio sources.")}n.H("loaderror",null,"No audio support.")},play:function(n,r){var t=this,e=null;if("number"==typeof n)e=n,n=null;else{if("string"==typeof n&&"loaded"===t.ln&&!t.en[n])return null;if(void 0===n&&(n="__default",!t.hn)){for(var a=0,i=0;i<t.U.length;i++)t.U[i].V&&!t.U[i].mn&&(a++,e=t.U[i].pn);1===a?n=null:e=null}}var u=e?t.S(e):t.wn();if(!u)return null;if(e&&!n&&(n=u.en||"__default"),"loaded"!==t.ln){u.en=n,u.mn=!1;var f=u.pn;return t.dn.push({event:"play",action:function(){t.play(f)}}),f}if(e&&!u.V)return r||t.yn("play"),u.pn;t.k&&o.K();var c=Math.max(0,u.Mn>0?u.Mn:t.en[n][0]/1e3),v=Math.max(0,(t.en[n][0]+t.en[n][1])/1e3-c),l=1e3*v/Math.abs(u.tn),s=t.en[n][0]/1e3,d=(t.en[n][0]+t.en[n][1])/1e3;u.en=n,u.mn=!1;var h=function(){u.V=!1,u.Mn=c,u.bn=s,u.gn=d,u.J=!(!u.J&&!t.en[n][2])};if(!(c>=d)){var m=u.I;if(t.k){var p=function(){t.hn=!1,h(),t.An(u);var n=u.$||t.$?0:u._;m.gain.setValueAtTime(n,o.ctx.currentTime),u.xn=o.ctx.currentTime,void 0===m.bufferSource.start?u.J?m.bufferSource.noteGrainOn(0,c,86400):m.bufferSource.noteGrainOn(0,c,v):u.J?m.bufferSource.start(0,c,86400):m.bufferSource.start(0,c,v),l!==1/0&&(t.sn[u.pn]=setTimeout(t.mn.bind(t,u),l)),r||setTimeout((function(){t.H("play",u.pn),t.yn()}),0)};"running"===o.state&&"interrupted"!==o.ctx.state?p():(t.hn=!0,t.once("resume",p),t.$n(u.pn))}else{var w=function(){m.currentTime=c,m.muted=u.$||t.$||o.$||m.muted,m.volume=u._*o.volume(),m.playbackRate=u.tn;try{var e=m.play();if(e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)?(t.hn=!0,h(),e.then((function(){t.hn=!1,m.L=!0,r||(t.H("play",u.pn),t.yn())})).catch((function(){t.hn=!1,t.H("playerror",u.pn,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),u.mn=!0,u.V=!0}))):r||(t.hn=!1,h(),t.H("play",u.pn),t.yn()),m.playbackRate=u.tn,m.paused)return void t.H("playerror",u.pn,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==n||u.J?t.sn[u.pn]=setTimeout(t.mn.bind(t,u),l):(t.sn[u.pn]=function(){t.mn(u),m.removeEventListener("ended",t.sn[u.pn],!1)},m.addEventListener("ended",t.sn[u.pn],!1))}catch(n){t.H("playerror",u.pn,n)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=t.an,m.load());var y=window&&window.ejecta||!m.readyState&&o.F.isCocoonJS;if(m.readyState>=3||y)w();else{t.hn=!0;var M=function(){w(),m.removeEventListener(o.C,M,!1)};m.addEventListener(o.C,M,!1),t.$n(u.pn)}}return u.pn}t.mn(u)},pause:function(n){var r=this;if("loaded"!==r.ln||r.hn)return r.dn.push({event:"pause",action:function(){r.pause(n)}}),r;for(var t=r.P(n),e=0;e<t.length;e++){r.$n(t[e]);var a=r.S(t[e]);if(a&&!a.V&&(a.Mn=r.seek(t[e]),a._n=0,a.V=!0,r.Cn(t[e]),a.I))if(r.k){if(!a.I.bufferSource)continue;void 0===a.I.bufferSource.stop?a.I.bufferSource.noteOff(0):a.I.bufferSource.stop(0),r.Fn(a.I)}else isNaN(a.I.duration)&&a.I.duration!==1/0||a.I.pause();arguments[1]||r.H("pause",a?a.pn:null)}return r},stop:function(n,r){var t=this;if("loaded"!==t.ln||t.hn)return t.dn.push({event:"stop",action:function(){t.stop(n)}}),t;for(var e=t.P(n),a=0;a<e.length;a++){t.$n(e[a]);var o=t.S(e[a]);o&&(o.Mn=o.bn||0,o._n=0,o.V=!0,o.mn=!0,t.Cn(e[a]),o.I&&(t.k?o.I.bufferSource&&(void 0===o.I.bufferSource.stop?o.I.bufferSource.noteOff(0):o.I.bufferSource.stop(0),t.Fn(o.I)):isNaN(o.I.duration)&&o.I.duration!==1/0||(o.I.currentTime=o.bn||0,o.I.pause(),o.I.duration===1/0&&t.Tn(o.I))),r||t.H("stop",o.pn))}return t},mute:function(n,r){var t=this;if("loaded"!==t.ln||t.hn)return t.dn.push({event:"mute",action:function(){t.mute(n,r)}}),t;if(void 0===r){if("boolean"!=typeof n)return t.$;t.$=n}for(var e=t.P(r),a=0;a<e.length;a++){var i=t.S(e[a]);i&&(i.$=n,i.kn&&t.Cn(i.pn),t.k&&i.I?i.I.gain.setValueAtTime(n?0:i._,o.ctx.currentTime):i.I&&(i.I.muted=!!o.$||n),t.H("mute",i.pn))}return t},volume:function(){var n,r,t,e=this,a=arguments;if(0===a.length)return e._;if(1===a.length||2===a.length&&void 0===a[1]?e.P().indexOf(a[0])>=0?r=parseInt(a[0],10):n=parseFloat(a[0]):a.length>=2&&(n=parseFloat(a[0]),r=parseInt(a[1],10)),!(void 0!==n&&n>=0&&n<=1))return(t=r?e.S(r):e.U[0])?t._:0;if("loaded"!==e.ln||e.hn)return e.dn.push({event:"volume",action:function(){e.volume.apply(e,a)}}),e;void 0===r&&(e._=n),r=e.P(r);for(var i=0;i<r.length;i++)(t=e.S(r[i]))&&(t._=n,a[2]||e.Cn(r[i]),e.k&&t.I&&!t.$?t.I.gain.setValueAtTime(n,o.ctx.currentTime):t.I&&!t.$&&(t.I.volume=n*o.volume()),e.H("volume",t.pn));return e},fade:function(n,r,t,e){var a=this;if("loaded"!==a.ln||a.hn)return a.dn.push({event:"fade",action:function(){a.fade(n,r,t,e)}}),a;n=Math.min(Math.max(0,parseFloat(n)),1),r=Math.min(Math.max(0,parseFloat(r)),1),t=parseFloat(t),a.volume(n,e);for(var i=a.P(e),u=0;u<i.length;u++){var f=a.S(i[u]);if(f){if(e||a.Cn(i[u]),a.k&&!f.$){var c=o.ctx.currentTime,v=c+t/1e3;f._=n,f.I.gain.setValueAtTime(n,c),f.I.gain.linearRampToValueAtTime(r,v)}a.Pn(f,n,r,t,i[u],void 0===e)}}return a},Pn:function(n,r,t,e,a,o){var i=this,u=r,f=t-r,c=Math.abs(f/.01),v=Math.max(4,c>0?e/c:e),l=Date.now();n.Sn=t,n.kn=setInterval((function(){var a=(Date.now()-l)/e;l=Date.now(),u+=f*a,u=f<0?Math.max(t,u):Math.min(t,u),u=Math.round(100*u)/100,i.k?n._=u:i.volume(u,n.pn,!0),o&&(i._=u),(t<r&&u<=t||t>r&&u>=t)&&(clearInterval(n.kn),n.kn=null,n.Sn=null,i.volume(t,n.pn),i.H("fade",n.pn))}),v)},Cn:function(n){var r=this,t=r.S(n);return t&&t.kn&&(r.k&&t.I.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(t.kn),t.kn=null,r.volume(t.Sn,n),t.Sn=null,r.H("fade",n)),r},loop:function(){var n,r,t,e=this,a=arguments;if(0===a.length)return e.J;if(1===a.length){if("boolean"!=typeof a[0])return!!(t=e.S(parseInt(a[0],10)))&&t.J;n=a[0],e.J=n}else 2===a.length&&(n=a[0],r=parseInt(a[1],10));for(var o=e.P(r),i=0;i<o.length;i++)(t=e.S(o[i]))&&(t.J=n,e.k&&t.I&&t.I.bufferSource&&(t.I.bufferSource.loop=n,n&&(t.I.bufferSource.loopStart=t.bn||0,t.I.bufferSource.loopEnd=t.gn)));return e},rate:function(){var n,r,t,e=this,a=arguments;if(0===a.length)r=e.U[0].pn;else if(1===a.length){var i=e.P(),u=i.indexOf(a[0]);u>=0?r=parseInt(a[0],10):n=parseFloat(a[0])}else 2===a.length&&(n=parseFloat(a[0]),r=parseInt(a[1],10));if("number"!=typeof n)return(t=e.S(r))?t.tn:e.tn;if("loaded"!==e.ln||e.hn)return e.dn.push({event:"rate",action:function(){e.rate.apply(e,a)}}),e;void 0===r&&(e.tn=n),r=e.P(r);for(var f=0;f<r.length;f++)if(t=e.S(r[f])){e.playing(r[f])&&(t._n=e.seek(r[f]),t.xn=e.k?o.ctx.currentTime:t.xn),t.tn=n,e.k&&t.I&&t.I.bufferSource?t.I.bufferSource.playbackRate.setValueAtTime(n,o.ctx.currentTime):t.I&&(t.I.playbackRate=n);var c=e.seek(r[f]),v=(e.en[t.en][0]+e.en[t.en][1])/1e3-c,l=1e3*v/Math.abs(t.tn);!e.sn[r[f]]&&t.V||(e.$n(r[f]),e.sn[r[f]]=setTimeout(e.mn.bind(e,t),l)),e.H("rate",t.pn)}return e},seek:function(){var n,r,t=this,e=arguments;if(0===e.length)r=t.U[0].pn;else if(1===e.length){var a=t.P(),i=a.indexOf(e[0]);i>=0?r=parseInt(e[0],10):t.U.length&&(r=t.U[0].pn,n=parseFloat(e[0]))}else 2===e.length&&(n=parseFloat(e[0]),r=parseInt(e[1],10));if(void 0===r)return t;if("loaded"!==t.ln||t.hn)return t.dn.push({event:"seek",action:function(){t.seek.apply(t,e)}}),t;var u=t.S(r);if(u){if(!("number"==typeof n&&n>=0)){if(t.k){var f=t.playing(r)?o.ctx.currentTime-u.xn:0,c=u._n?u._n-u.Mn:0;return u.Mn+(c+f*Math.abs(u.tn))}return u.I.currentTime}var v=t.playing(r);v&&t.pause(r,!0),u.Mn=n,u.mn=!1,t.$n(r),t.k||!u.I||isNaN(u.I.duration)||(u.I.currentTime=n);var l=function(){t.H("seek",r),v&&t.play(r,!0)};if(v&&!t.k){var s=function(){t.hn?setTimeout(s,0):l()};setTimeout(s,0)}else l()}return t},playing:function(n){var r=this;if("number"==typeof n){var t=r.S(n);return!!t&&!t.V}for(var e=0;e<r.U.length;e++)if(!r.U[e].V)return!0;return!1},duration:function(n){var r=this,t=r.vn,e=r.S(n);return e&&(t=r.en[e.en][1]/1e3),t},state:function(){return this.ln},unload:function(){for(var n=this,r=n.U,t=0;t<r.length;t++)r[t].V||n.stop(r[t].pn),n.k||(n.Tn(r[t].I),r[t].I.removeEventListener("error",r[t].In,!1),r[t].I.removeEventListener(o.C,r[t].Dn,!1),o.G(r[t].I)),delete r[t].I,n.$n(r[t].pn);var e=o.A.indexOf(n);e>=0&&o.A.splice(e,1);var a=!0;for(t=0;t<o.A.length;t++)if(o.A[t].an===n.an||n.an.indexOf(o.A[t].an)>=0){a=!1;break}return f&&a&&delete f[n.an],o.noAudio=!1,n.ln="unloaded",n.U=[],n=null,null},on:function(n,r,t,e){var a=this["_on"+n];return"function"==typeof r&&a.push(e?{id:t,fn:r,once:e}:{id:t,fn:r}),this},off:function(n,r,t){var e=this,a=e["_on"+n],o=0;if("number"==typeof r&&(t=r,r=null),r||t)for(o=0;o<a.length;o++){var i=t===a[o].id;if(r===a[o].fn&&i||!r&&i){a.splice(o,1);break}}else if(n)e["_on"+n]=[];else{var u=Object.keys(e);for(o=0;o<u.length;o++)0===u[o].indexOf("_on")&&Array.isArray(e[u[o]])&&(e[u[o]]=[])}return e},once:function(n,r,t){return this.on(n,r,t,1),this},H:function(n,r,t){for(var e=this,a=e["_on"+n],o=a.length-1;o>=0;o--)a[o].id&&a[o].id!==r&&"load"!==n||(setTimeout(function(n){n.call(this,r,t)}.bind(e,a[o].fn),0),a[o].once&&e.off(n,a[o].fn,a[o].id));return e.yn(n),e},yn:function(n){var r=this;if(r.dn.length>0){var t=r.dn[0];t.event===n&&(r.dn.shift(),r.yn()),n||t.action()}return r},mn:function(n){var r=this,t=n.en;if(!r.k&&n.I&&!n.I.paused&&!n.I.ended&&n.I.currentTime<n.gn)return setTimeout(r.mn.bind(r,n),100),r;var e=!(!n.J&&!r.en[t][2]);if(r.H("end",n.pn),!r.k&&e&&r.stop(n.pn,!0).play(n.pn),r.k&&e){r.H("play",n.pn),n.Mn=n.bn||0,n._n=0,n.xn=o.ctx.currentTime;var a=1e3*(n.gn-n.bn)/Math.abs(n.tn);r.sn[n.pn]=setTimeout(r.mn.bind(r,n),a)}return r.k&&!e&&(n.V=!0,n.mn=!0,n.Mn=n.bn||0,n._n=0,r.$n(n.pn),r.Fn(n.I),o.D()),r.k||e||r.stop(n.pn,!0),r},$n:function(n){var r=this;if(r.sn[n]){if("function"!=typeof r.sn[n])clearTimeout(r.sn[n]);else{var t=r.S(n);t&&t.I&&t.I.removeEventListener("ended",r.sn[n],!1)}delete r.sn[n]}return r},S:function(n){for(var r=this,t=0;t<r.U.length;t++)if(n===r.U[t].pn)return r.U[t];return null},wn:function(){var n=this;n.jn();for(var r=0;r<n.U.length;r++)if(n.U[r].mn)return n.U[r].reset();return new u(n)},jn:function(){var n=this,r=n.nn,t=0,e=0;if(!(n.U.length<r)){for(e=0;e<n.U.length;e++)n.U[e].mn&&t++;for(e=n.U.length-1;e>=0;e--){if(t<=r)return;n.U[e].mn&&(n.k&&n.U[e].I&&n.U[e].I.disconnect(0),n.U.splice(e,1),t--)}}},P:function(n){if(void 0===n){for(var r=[],t=0;t<this.U.length;t++)r.push(this.U[t].pn);return r}return[n]},An:function(n){return n.I.bufferSource=o.ctx.createBufferSource(),n.I.bufferSource.buffer=f[this.an],n.On?n.I.bufferSource.connect(n.On):n.I.bufferSource.connect(n.I),n.I.bufferSource.loop=n.J,n.J&&(n.I.bufferSource.loopStart=n.bn||0,n.I.bufferSource.loopEnd=n.gn||0),n.I.bufferSource.playbackRate.setValueAtTime(n.tn,o.ctx.currentTime),this},Fn:function(n){var r=o.F&&o.F.vendor.indexOf("Apple")>=0;if(o.B&&n.bufferSource&&(n.bufferSource.onended=null,n.bufferSource.disconnect(0),r))try{n.bufferSource.buffer=o.B}catch(n){}return n.bufferSource=null,this},Tn:function(n){/MSIE |Trident\//.test(o.F&&o.F.userAgent)||(n.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var u=function(n){this.Nn=n,this.init()};u.prototype={init:function(){var n=this,r=n.Nn;return n.$=r.$,n.J=r.J,n._=r._,n.tn=r.tn,n.Mn=0,n.V=!0,n.mn=!0,n.en="__default",n.pn=++o.t,r.U.push(n),n.create(),n},create:function(){var n=this,r=n.Nn,t=o.$||n.$||n.Nn.$?0:n._;return r.k?(n.I=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),n.I.gain.setValueAtTime(t,o.ctx.currentTime),n.I.paused=!0,n.I.connect(o.masterGain)):o.noAudio||(n.I=o._obtainHtml5Audio(),n.In=n.Rn.bind(n),n.I.addEventListener("error",n.In,!1),n.Dn=n.En.bind(n),n.I.addEventListener(o.C,n.Dn,!1),n.I.src=r.an,n.I.preload=!0===r.rn?"auto":r.rn,n.I.volume=t*o.volume(),n.I.load()),n},reset:function(){var n=this,r=n.Nn;return n.$=r.$,n.J=r.J,n._=r._,n.tn=r.tn,n.Mn=0,n._n=0,n.V=!0,n.mn=!0,n.en="__default",n.pn=++o.t,n},Rn:function(){var n=this;n.Nn.H("loaderror",n.pn,n.I.error?n.I.error.code:0),n.I.removeEventListener("error",n.In,!1)},En:function(){var n=this,r=n.Nn;r.vn=Math.ceil(10*n.I.duration)/10,0===Object.keys(r.en).length&&(r.en={__default:[0,1e3*r.vn]}),"loaded"!==r.ln&&(r.ln="loaded",r.H("load"),r.yn()),n.I.removeEventListener(o.C,n.Dn,!1)}};var f={},c=function(n){var r=n.an;if(f[r])return n.vn=f[r].duration,void s(n);if(/^data:[^;]+;base64,/.test(r)){for(var t=atob(r.split(",")[1]),e=new Uint8Array(t.length),a=0;a<t.length;++a)e[a]=t.charCodeAt(a);l(e.buffer,n)}else{var o=new XMLHttpRequest;o.open(n.cn.method,r,!0),o.withCredentials=n.cn.withCredentials,o.responseType="arraybuffer",n.cn.headers&&Object.keys(n.cn.headers).forEach((function(r){o.setRequestHeader(r,n.cn.headers[r])})),o.onload=function(){var r=(o.status+"")[0];"0"===r||"2"===r||"3"===r?l(o.response,n):n.H("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){n.k&&(n.Z=!0,n.k=!1,n.U=[],delete f[r],n.load())},v(o)}},v=function(n){try{n.send()}catch(r){n.onerror()}},l=function(n,r){var t=function(){r.H("loaderror",null,"Decoding audio data failed.")},e=function(n){n&&r.U.length>0?(f[r.an]=n,s(r,n)):t()};"undefined"!=typeof Promise&&1===o.ctx.decodeAudioData.length?o.ctx.decodeAudioData(n).then(e).catch(t):o.ctx.decodeAudioData(n,e,t)},s=function(n,r){r&&!n.vn&&(n.vn=r.duration),0===Object.keys(n.en).length&&(n.en={__default:[0,1e3*n.vn]}),"loaded"!==n.ln&&(n.ln="loaded",n.H("load"),n.yn())},d=function(){if(o.usingWebAudio){try{"undefined"!=typeof AudioContext?o.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(n){o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var n=/iP(hone|od|ad)/.test(o.F&&o.F.platform),r=o.F&&o.F.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),t=r?parseInt(r[1],10):null;if(n&&t&&t<9){var e=/safari/.test(o.F&&o.F.userAgent.toLowerCase());o.F&&!e&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o.$?0:o._,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o.T()}};void 0!==(e=function(){return{Howler:o,Howl:i}}.apply(r,[]))&&(n.exports=e),r.Howler=o,r.Howl=i,void 0!==t.g?(t.g.HowlerGlobal=a,t.g.Howler=o,t.g.Howl=i,t.g.Sound=u):"undefined"!=typeof window&&(window.HowlerGlobal=a,window.Howler=o,window.Howl=i,window.Sound=u)}()}},r={};function t(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={exports:{}};return n[e](o,o.exports,t),o.exports}t.d=function(n,r){for(var e in r)t.o(r,e)&&!t.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:r[e]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var e={};!function(){"use strict";t.r(e),t.d(e,{parseScene:function(){return re},setup:function(){return Jt},stopGame:function(){return ne},test_getData:function(){return ee},test_runFor:function(){return te}});var n=10,r=11,a=16,o=17,i=20,u=25,f=27,c=28,v=29,l=30,s=32,d=36,h=40,m=42,p=43,w=44,y=Math.PI,M=Math.min,b=(Math.min,.005);function g(n){return Math.sin(n)}function A(n){return Math.cos(n)}var x=Math.atan2,$=function(n){return Math.sqrt(n)},_=Math.random,C=Math.sin,F=Math.cos;function T(n){return n*y/180}var k="C_";function P(n,r){return R(n+r)}function S(n){if(0===n[0]&&0===n[1])return[1,0,0];var r,t,e=(r=n[0],t=n[1],Math.sqrt(r*r+t*t));return[n[0]/e,n[1]/e,e]}function I(n,r){var t=r[0]-n[0],e=r[1]-n[1];return t*t+e*e}function D(n,r){return n[0]*r[0]+n[1]*r[1]}function j(n,r,t){var e=n*n;return O(3*e-2*(e*n),r,t)}function O(n,r,t){return r+n*(t-r)}function N(n,r,t){return Math.max(Math.min(n,t),r)}function R(n){return function(){var r=n+=1831565813;return r=Math.imul(r^r>>>15,1|r),(((r^=r+Math.imul(r^r>>>7,61|r))^r>>>14)>>>0)/4294967296}}function E(n){var r=n[3][1];return 2===n[3][0]?[r/2,n[3][2]/2]:[r,r]}var B=1080,L=1920,z=560,G=960;function K(n,r){return[n[0]+(Math.random()*r-r/2),n[1]+(Math.random()*r-r/2)]}function H(n){return window.Bento.currentTranslation[n]||""}function U(n,r,t,e){n[13][0]=r,n[13][1]=t,X(n,[w,i,f,0,s],e)}function V(n){for(;n>=2*Math.PI;)n-=2*Math.PI;for(;n<0;)n+=2*Math.PI;return n}function q(n,r,t){n[14]=V(r),X(n,[w,i,f,a,0,s],t)}function X(n,r,t){if(n&&n.d){for(var e=0,a=r;e<a.length;e++){var o=a[e];n.d[o]=!0}for(var i=0,u=n.b;i<u.length;i++){X(t[u[i]],r,t)}}}function Q(n){return n.d[0]&&(n.d[0]=!1,n[0]=n.c?on(J(n.c),n[13],1):n[13]),n[0]}function Y(n){var r;return n.d[17]&&(n.d[17]=!1,n[17]=n.c?n[15]*((r=J(n.c))[0]*r[0]+r[3]*r[3]):n[15]),n[17]}function W(n){return n[33]?n.c?n[33][0]+W(n.c):n[33][0]:0}function Z(n){return n.d[16]&&(n.d[16]=!1,n[16]=n.c?V(n[14]+Z(n.c)):n[14]),n[16]}function J(n){return n.d[20]&&(n.d[20]=!1,n[20]=n.c?un(J(n.c),en(n)):en(n)),n[20]}function nn(n){return n[31]?J(n):(n.d[27]&&(n.d[27]=!1,n[27]=n.c?un(nn(n.c),rn(n)):rn(n),n.f[1]&&n.f[1][0]>0&&(n.d[27]=!0)),n[27])}function rn(n){var r,t,e,a=0;n.f[1]&&(n.f[1][0]-=.125,a=(r=n.f[1])[0],t=r[1],e=r[2]);var o=S(n[1]),i=o[0],u=o[1],f=o[2],c=0,v=0;f=tn(f);var l=1/Math.sqrt(f);if(a>0){var s=Math.abs(1-a);s*=s,i=t[0],u=t[1];var d=E(n),h=2*(Math.abs(d[0]*i)+Math.abs(d[1]*u)),m=2*(Math.abs(d[1]*i)+Math.abs(d[0]*u));(f=tn(e)-.56)<0&&(f=0);var p=f/2;f=1-p+p*s;var w=0;n[4]&&(w=n[4][1]),l=125*((l=1/Math.sqrt(f))-1)/m+1,(f=125*(f-1)/h+1)<.95&&(c=-1*i*w*(1-f),v=-1*u*w*(1-f))}var y=function(n,r,t,e){var a=n*n,o=r*r;return[(t-1)*a+(e-1)*o,n*r*(t-1-(e-1)),(t-1)*o+(e-1)*a]}(i,u,f,l),M=y[0],b=y[1],g=y[2];f<1&&a<=0&&(M=b=g=0);var A=en(n);return[A[0]+M,A[1]+b,A[2]+c,A[3]+b,A[4]+g,A[5]+v]}function tn(n){return n=j(Math.min(n/32,1),.4,1.36)}function en(n){var r=n[13],t=n[14],e=n[15],a=F(t),o=C(t);return[a*e,-o*e,r[0],o*e,a*e,r[1]]}function an(n){var r=-1*n[14],t=1/n[15],e=Math.cos(r),a=Math.sin(r),o=e*t,i=-a*t,u=a*t,f=e*t;return[o,i,-(o*n[13][0]+i*n[13][1]),u,f,-(u*n[13][0]+f*n[13][1])]}function on(n,r,t){var e=n[0],a=n[1],o=n[2],i=n[3],u=n[4],f=n[5];return[e*r[0]+a*r[1]+o*t,i*r[0]+u*r[1]+f*t]}function un(n,r){var t=n[0],e=n[1],a=n[2],o=n[3],i=n[4],u=n[5],f=r[0],c=r[1],v=r[2],l=r[3],s=r[4],d=r[5];return[t*f+e*l,t*c+e*s,t*v+e*d+a,o*f+i*l,o*c+i*s,o*v+i*d+u]}function fn(n){var r=n.Bn();return r.d[32]&&(r.d[32]=!1,r[32]=an(r)),r[32]}var cn=0;function vn(n,r,t,e,a,o,i,u,f,c){var v=32;v*=Math.min(i[0]/30,6)*f;var l=new sn(r,0,v,t,i,c=c||[0,0],5,u,[o],1,e,a);return n.push(l),l}var ln,sn=function(){function n(n,r,t,e,a,o,i,u,f,c,v,l){this.Ln=n,this.zn=Date.now()+ ++cn,this.Gn=0,this.Kn={Hn:r,Un:t,Vn:e,qn:a,Xn:o,Qn:i,Yn:u,Wn:f,Zn:c,Jn:v,nr:l}}return n.prototype.update=function(n){return this.Gn+=n,this.Gn<=this.Kn.Yn},n.prototype.draw=function(n,r){var t=R(this.zn),e=this.Gn;r.setupParticleRender(n,1===this.Kn.Hn?"source-over":"screen"),0===this.Kn.Hn?this.fireworkParticle(n,r,t,e):1===this.Kn.Hn?this.impactParticle(n,r,t,e):2===this.Kn.Hn&&this.confettiParticle(n,r,t,e),r.endParticleRender(n)},n.prototype.fireworkParticle=function(n,r,t,e){for(var a=0;a<this.Kn.Un;++a){var o=(1+t())/2*this.Kn.Yn,i=e-t()*this.Kn.Qn,u=2*t()*Math.PI,f=[this.Kn.qn[0]*(t()-.5),this.Kn.qn[1]*(t()-.5)],c=.15*t()*this.Kn.Zn;if(!(i<0||i>o)){var v=[Math.cos(u),Math.sin(u)];v[0]*=c*this.Kn.qn[0],v[1]*=c*this.Kn.qn[1];var l=this.Kn.Vn[0]+f[0]+ +v[0]*i,s=this.Kn.Vn[1]+f[1]+ +v[1]*i+.025*i*i,d=j((o-i)/o,0,1);r.renderParticle(n,l,s,20*d,this.Kn.Wn[0],d)}}},n.prototype.impactParticle=function(n,r,t,e){for(var a=[this.Kn.Xn[1],-this.Kn.Xn[0]],o=this.Kn.Xn,i=0;i<this.Kn.Un;++i){var u=(1+t())/2*this.Kn.Yn,f=e-t()*this.Kn.Qn,c=t()>.5?t()/2+.5:-t()/2-.5,v=(t()-.5)*this.Kn.Zn,l=(.25+t())/1.25*25;if(!(f<0||f>u)){var s=Math.sqrt(this.Kn.qn[0])/7.5,d=Math.sqrt(this.Kn.qn[1])/7.5,h=[a[0]*c*s+o[0]*v,a[1]*c*d+o[1]*v];h[0]*=l,h[1]*=l;var m=this.Kn.Vn[0]+h[0]*Math.log(2*f+1),p=this.Kn.Vn[1]+h[1]*Math.log(2*f+1)+-.025*f*f+7,w=j((u-f)/u,0,1);w*=l/25,r.renderParticle(n,m,p,20*w,this.Kn.Wn[0],w)}}},n.prototype.confettiParticle=function(n,r,t,e){r.disableCameraTransform(n);for(var a=0;a<this.Kn.Un;++a){var o=(1+t())/2*this.Kn.Yn,i=e-t()*this.Kn.Qn,u=t()*this.Kn.qn[0],f=Math.floor(t()*this.Kn.Wn.length),c=t()-.5,v=2*t();if(!(i<0||i>o)){var l=[5*c,.5];l[1]*=this.Kn.qn[1];var s=this.Kn.Vn[0]+u+l[0]*i,d=this.Kn.Vn[1]+l[1]*i+-.05*i*i*v,h=j((o-i)/o,0,1);r.renderParticle(n,s,d,14*h,this.Kn.Wn[f],.5*h)}}r.setupParticleRender(n)},n}(),dn={},hn={makeRenderState:function(n,r,t){var e={};e.rr=n,e.tr=t;var a=t.getContext(n);e.er=a,e.ar=["#000"],e.ir=[1080,1920],e.cr={},e.vr=[],e.lr=1,e.sr=[],e.dr=!1,e.sr.push([{uid:-1,RENDER_TRAILS:[0]},"RENDER_TRAILS"]),e.hr={mr:e.er.beginPath.bind(e.er),pr:e.er.arc.bind(e.er),wr:e.er.rect.bind(e.er),yr:e.er.moveTo.bind(e.er),Mr:e.er.lineTo.bind(e.er),br:e.er.fill.bind(e.er),gr:e.er.fillText.bind(e.er),Ar:e.er.fillRect.bind(e.er),$r:e.er.stroke.bind(e.er),_r:e.er.strokeText.bind(e.er),Cr:e.er.createRadialGradient.bind(e.er),Fr:e.er.setTransform.bind(e.er),Tr:function(n,r,t,a){e.er.shadowColor=n,e.er.shadowOffsetX=r,e.er.shadowOffsetY=t,e.er.shadowBlur=a},kr:function(){e.er.fill(),e.er.stroke()},Pr:e.er.clip.bind(e.er),Sr:e.er.drawImage.bind(e.er),Ir:e.er.save.bind(e.er),Dr:e.er.restore.bind(e.er)},mn(a),(ln=a.createRadialGradient(n.width/2,n.height/2-75,1.1*(n.width+n.height)/4,n.width/2,n.height/2-75,Math.sqrt(n.width*n.width/4+n.height*n.height/4))).addColorStop(0,"rgba(0,2,81,0)"),ln.addColorStop(.12,"rgba(0,2,81,0.01)"),ln.addColorStop(.62,"rgba(0,2,81,0.14)"),ln.addColorStop(1,"rgba(0,2,81,0.37)"),r.l&&(e.ar=r.l.map((function(n){return"#"+n})));return e},getContext:function(n){var r=n.getContext("2d",{alpha:!0});if(!r)throw console.error("This is very bad"),{};return r},setupCanvas:mn,setColors:function(n,r){n.jr.ar=r},rendererSetSize:function(n,r){var t=r[0],e=r[1];n.jr.rr.width=t,n.jr.rr.height=e,n.jr.lr=t/1080,mn(n.jr.er)},renderScene:function(r,t,e,a,o,i){r.jr.hr.Fr(1,0,0,1,0,0),r.jr.er.clearRect(0,0,r.jr.rr.width,r.jr.rr.height),r.jr.er.fillStyle=ln,r.jr.er.fillRect(0,0,r.jr.rr.width,r.jr.rr.height),t&&(t=!1,e.sort((function(n,r){return n[0][n[1]][0]-r[0][r[1]][0]})));wn(r);for(var u=0,f=e;u<f.length;u++){var c=f[u],v=c[0],s=c[1];if(-1!==v.uid){var d=v[41]?nn(v):un(fn(ft(r)),nn(v)),h=d[0],m=d[1],p=d[2],w=d[3],y=d[4],M=d[5];switch(r.jr.hr.Fr(h*r.jr.lr,w*r.jr.lr,m*r.jr.lr,y*r.jr.lr,(p+540)*r.jr.lr,(M+960)*r.jr.lr),v[9]&&(r.jr.er.globalAlpha=v[9][0]),s){case 4:Mn(r,[0,0],v[4]);break;case 5:bn(r,[0,0],v[5]);break;case n:yn(r,[0,0],v[10]);break;case l:var b=a[v[30][0]],g=v[30][1];gn(r,[0,0],g,b)}v[9]&&(r.jr.er.globalAlpha=1)}}(function(n,r,t,e){for(var a=t.length-1;a>=0;--a){var o=t[a];o.update(e)?o.draw(n,r):t.splice(a,1)}})(r,r.jr.tr,i.filter((function(n){return n.Ln})),o),r.jr.hr.Fr(r.jr.lr,0,0,r.jr.lr,540*r.jr.lr,960*r.jr.lr);for(var A=r.jr.vr.length-1;A>=0;--A){var x=r.jr.vr[A];r.jr.er.globalAlpha=Math.min((180-x.time)/60,1),r.jr.er.fillStyle="#000000",yn(r,[5,1*x.time-955],[0,72,"#ffffff",x.text]),r.jr.er.fillStyle="#ffffff",yn(r,[0,1*x.time-960],[0,72,"#ffffff",x.text]),x.time+=2,x.time>180&&r.jr.vr.splice(A,1)}r.jr.er.globalAlpha=1},addNotification:function(n,r){n.jr.vr.push({text:r,time:0})},setupParticleRender:function(n,r){var t=fn(ft(n)),e=t[0],a=t[1],o=t[2],i=t[3],u=t[4],f=t[5];n.jr.hr.Fr(e*n.jr.lr,i*n.jr.lr,a*n.jr.lr,u*n.jr.lr,(o+540)*n.jr.lr,(f+960)*n.jr.lr),window.wireframeMode&&n.jr.hr.Tr("rgba(0,0,0,0)",0,0,0);n.jr.er.globalCompositeOperation=r},renderParticle:function(n,r,t,e,a,o){n.jr.er.fillStyle=a,n.jr.er.globalAlpha=o,An(n,r,t,e).br()},endParticleRender:function(n){n.jr.er.globalCompositeOperation="source-over",wn(n)},disableCameraTransform:function(n){n.jr.hr.Fr(n.jr.lr,0,0,n.jr.lr,540*n.jr.lr,960*n.jr.lr)}};function mn(n){n.textAlign="center",n.textBaseline="middle",n.lineCap="round",n.lineJoin="round"}var pn=function(n){};function wn(n){window.wireframeMode?(n.jr.er.strokeStyle="#ffffff",n.jr.er.lineWidth=5,n.jr.er.fillStyle=n.jr.ar[0],pn=function(r){n.jr.hr.Tr(n.jr.ar[r],0,0,15)}):(n.jr.er.strokeStyle="rgba(0,0,0,0)",pn=function(r){n.jr.er.fillStyle=n.jr.ar[r]}),n.jr.er.globalAlpha=1}function yn(n,r,t){var e=r[0],a=r[1],o=(t[0],t[1]),i=t[2],u=t[3],f=t[4],c=t[5];c&&(n.jr.er.textAlign="left"),n.jr.er.font="bold "+o+"px Poppins,sans-serif",pn(i),window.wireframeMode&&(n.jr.er.fillStyle="#ffffff"),f&&(n.jr.er.lineWidth=12,n.jr.er.strokeStyle=f,n.jr.hr._r(u,e,a),n.jr.er.strokeStyle="rgba(0,0,0,0)"),n.jr.hr.gr(u,e,a),window.wireframeMode&&wn(n),c&&(n.jr.er.textAlign="center")}function Mn(n,r,t){var e=r[0],a=r[1],o=(t[0],t[1]),i=t[2],u=t[3];if(u){var f=dn[u];if(f){if(f.loaded)return void xn(n,f.img,e,a,2*o,2*o)}else{var c=new Image;c.src="./"+u,dn[u]={loaded:!1,img:c},c.addEventListener("load",(function(){dn[u].loaded=!0}),!1)}}pn(i),An(n,e,a,o).kr()}function bn(n,r,t){var e=r[0],a=r[1],o=(t[0],t[1]),i=t[2],u=t[3],f=t[4];if(f){var c=dn[f];if(c){if(c.loaded)return void xn(n,c.img,e,a,o,i)}else{var v=new Image;v.src="./"+f,dn[f]={loaded:!1,img:v},v.addEventListener("load",(function(){dn[f].loaded=!0}),!1)}}pn(u),function(n,r,t,e,a){return n.jr.hr.mr(),n.jr.hr.wr(r-e/2,t-a/2,e,a),n.jr.hr}(n,e,a,o,i).kr()}function gn(n,r,t,e){var a=r[0],o=r[1],i=e[0],u=e[1];n.jr.hr.mr(),n.jr.hr.yr(a,o),n.jr.hr.Mr(i*(t?-1:1),u*(t?-1:1)),n.jr.er.strokeStyle="#FDF6BF",n.jr.er.lineWidth=5,n.jr.hr.$r(),wn(n)}function An(n,r,t,e){return n.jr.hr.mr(),n.jr.hr.pr(r,t,e,0,2*Math.PI),n.jr.hr}function xn(n,r,t,e,a,o){return n.jr.hr.Sr(r,t-a/2,e-o/2,a,o),n.jr.hr}function $n(n){n.Or={},n.Nr=0,n.Rr=0,n.Er={},n.Br={},n.Lr=0,n.zr=[],n.Gr=[],n.Kr=[],n.Hr=[],n.Ur=0,n.Vr=[0,[]],n.qr={},n.Xr=[[0,0]],n.Qr=1,n.Yr=1,n.Wr=function(){return 0},n.cr={},n.Zr=0,n.Jr=-1,n.nt=!1,n.rt=0,n.tt=!1,n.et=[0,0,0],n.ot=[],n.it=[],n.ft={},n.ct={index:0,completed:0},n.vt=0,n.lt={},n.st=[],n.dt=n.dt||[],n.ht=[]}function _n(n,r,t,e){for($n(n),n.Or=r,n.ht.length<1&&(n.ht=n.Or.h.map((function(n){return n.split("_").map((function(n){return"#"+r.l[n]})).join("_")}))),n.Zr=t||0,n.wt=e&&e[2]||null,n.yt=e&&e[3]||null,n.Mt=r.s.gs,n.bt=r.s.ls,n.et=[n.bt[n.Zr].offsetX||0,-1*(n.bt[n.Zr].offsetY||0),n.bt[n.Zr].offsetZ||0],n.Mt.dynLevels&&(n.ft=function(n){for(var r={},t=0;t<n.bt.length;++t){var e=n.bt[t].spawnList;if(e){for(var a=[],o=0,i=e.split(",");o<i.length;o++){var u=i[o],f={times:1,choices:[],weightSum:0},c=1,v=0,l=u.indexOf("}");l>0&&(c=parseInt(u.substring(1,l)),f.times=c,v=l+1);for(var s=0,d=u.substring(v).split("|");s<d.length;s++){var h=d[s].split("x"),m=parseInt(h[0])-1,p=h[1]?parseInt(h[1]):1;f.choices.push([m,p]),f.weightSum+=p}a.push(f)}r[t]=a}}return r}(n));n.dt.length<n.Or.a.length;)n.dt.push([]);var a=Date.now();n.Vr=[a,[]],e&&(n.Vr[0]=e[0]),n.Wr=R(n.Vr[0]);for(var o=0,i=Object.keys(r.o);o<i.length;o++){var u=i[o];n.Er[u]={length:0,collidesWith:[],array:[],totalOccurances:0};var f=r.o[u][3];f&&(n.lt[f]||(n.lt[f]=[]),n.lt[f].push(u)),n.lt[u]=[u]}for(var c=0,v=r.c;c<v.length;c++){var l=v[c];n.Er[l[0]].collidesWith.push(l[1])}for(var s=0;s<18;++s)n.zr.push([])}var Cn=[],Fn={aa:3,ab:2,ac:1,ad:1},Tn={ue:function(n,r,t){n.uniformMatrix4fv(r,!1,t)},uf:function(n,r,t){n.uniformMatrix4fv(r,!1,t)},ug:function(n,r,t){n.uniformMatrix4fv(r,!1,t)},uh:function(n,r,t){n.uniform3fv(r,t)},ui:function(n,r,t){n.uniform3fv(r,t)},uj:function(n,r,t){n.uniform1i(r,t)},uk:function(n,r,t){n.uniform1i(r,t)},ul:function(n,r,t){n.uniform1f(r,t)},um:function(n,r,t){n.uniform2fv(r,t)},un:function(n,r,t){n.uniform2fv(r,t)},uo:function(n,r,t){n.uniform3fv(r,t)},up:function(n,r,t){n.uniform3fv(r,t)},uq:function(n,r,t){n.uniformMatrix3fv(r,!1,t)},ur:function(n,r,t){n.uniform1f(r,t)},us:function(n,r,t){n.uniform1f(r,t)},ut:function(n,r,t){n.uniform4fv(r,t)},uu:function(n,r,t){n.uniform1f(r,t)},uv:function(n,r,t){n.uniform1f(r,t)},uw:function(n,r,t){n.uniform3fv(r,t)},ux:function(n,r,t){n.uniform1f(r,t)},uy:function(n,r,t){n.uniform3fv(r,t)},uz:function(n,r,t){n.uniform1f(r,t)}};Cn[0]={v:"\nprecision mediump float;\nattribute vec3 aa;\nattribute vec2 ab;\n\nuniform mat4 ue;\nuniform mat4 uf;\nuniform mat4 ug;\n\nuniform mediump vec3 uh;\n\nuniform mediump vec3 ui;\n\nvarying mediump vec2 vTexCoord;\nvarying mediump vec3 vTexDecalPos;\nvarying mediump float vHeight;\n\nvoid main() {\nvTexCoord = ab;\nvTexDecalPos = aa.xyz * uh;\nfloat vertexWeight = aa.z * 0.5 + 0.5;\nvec4 offset = vertexWeight * vec4(ui, 0.0);\nvec4 vPos =offset + ug * vec4(aa, 1);\nvHeight = vPos.z;\ngl_Position = ue * uf * vPos;\n}\n",f:"\nprecision mediump float;\nvarying vec2 vTexCoord;\nvarying vec3 vTexDecalPos;\nvarying float vHeight;\n\nuniform vec4 ut;\nuniform sampler2D uj;\nuniform sampler2D uk;\nuniform float ul;\nuniform vec2 um;\nuniform vec2 un;\n\n\nconst float COS_PI_SIXTH = 0.866;\n\nuniform mediump vec3 uh;\n\nuniform vec3 uo;\nuniform vec3 up;\n\n\nvoid main() {\nfloat x = gl_FragCoord.x/1079.5;\nfloat y = gl_FragCoord.y/1919.5;\nfloat div = mix(1.125, 1.42, x);\nvec3 fogColor = mix( uo, up, (0.5 * x + COS_PI_SIXTH * y)/div );\nfloat depth = max(0.1,gl_FragCoord.z - 0.75);\nfloat fogAmount = (depth * depth * depth) * 64.0;\nfogAmount =clamp(fogAmount + smoothstep(0.0, 1.0, clamp(-1.25 * (vHeight+7.25), 0.0, 1.0)), 0.0, 1.0);\n\nvec4 tex = texture2D(uj, un * (vTexCoord + um));\nvec4 decalTex = texture2D(uk, vec2(vTexDecalPos.x + ul, vTexDecalPos.y + vTexDecalPos.z + ul) - 2.0 * um * uh.xy );\n\ngl_FragColor = vec4(mix(decalTex.rgb * tex.rgb * ut.rgb *1.1-0.05, fogColor, fogAmount), tex.a * ut.a);\n}\n",a:["aa","ab"],u:["ue","uf","ug","uh","ui","ut","uj","uk","ul","um","un","uo","up"]};Cn[1]={v:"\nattribute vec3 aa;\nattribute vec2 ab;\nattribute float ad;\n\nuniform mat4 ue;\nuniform mat4 uf;\nuniform mat4 ug;\n\nuniform mat3 uq;\n\nuniform mediump float ur;\nuniform mediump float us;\n\nuniform mediump vec4 ut;\n\nuniform mediump float uu;\nuniform mediump float uv;\nuniform mediump float ux; \nuniform mediump vec3 uw;\nuniform mediump vec3 uy;\nuniform mediump float uz;\n\nconst float PI_2 = 6.2832;\n\nvarying mediump vec4 vColor;\nvarying mediump vec2 vTexCoord;\n\n\n\nfloat random( float x ) { return fract(sin(x*12.7)*6543.7); }\n\nvoid main() {\nfloat seed = us + ad;\n\nfloat life = (1.0+random(seed))/2.0 * uu;\nseed += 100.0;\nfloat t = ur;\nseed += 100.0;\nfloat dirU = random(seed) * PI_2;\nseed += 100.0;\nfloat dirV = random(seed) * PI_2;\nseed += 100.0;\nfloat speed = (random(seed) + 0.25) * ux;\nseed += 100.0;\nvec3 start = uw * vec3(2.0*random(seed)-1.0, 2.0*random(seed+100.0)-1.0, 2.0*random(seed+200.0)-1.0);\n\n\n\nfloat alpha = smoothstep(0.0, 1.0, (life - t) / life);\n\nvec3 vel = uq * vec3( cos(dirV)*cos(dirU), cos(dirV)*sin(dirU), sin(dirV));\n\nvec3 nVel = normalize(vel);\nvel *= mix(1.0, uz, max(0.0,-1.0*(-0.1+dot(nVel,uy))));\n\nvec3 pos = vel * (speed * t) + vec3(start.x, start.y, start.z);\n\n\nvColor = vec4(ut.xyz, ut.a * alpha);\nvTexCoord = ab;\ngl_Position = ue * (uf * ug * vec4(pos, 1) + vec4(aa.xy*min(0.7,alpha),0, 0.005));\n}\n",f:"\nprecision mediump float;\n\nvarying vec4 vColor;\nvarying vec2 vTexCoord;\n\nuniform sampler2D uj;\n\nvoid main() {\ngl_FragColor = vec4(vColor.rgb, vColor.a*texture2D(uj, vTexCoord).a);\n}\n",a:["aa","ab","ad"],u:["ue","uf","ug","uq","ur","us","ut","uu","uv","uw","ux","uy","uz","uj"]};var kn={gt:0,At:"",xt:[],$t:[null,null],_t:[]};function Pn(n,r){var t=Cn[r],e=function(n,r,t){var e=Sn(n,n.VERTEX_SHADER,r),a=Sn(n,n.FRAGMENT_SHADER,t);if(!e||!a)return;var o=n.createProgram();if(n.attachShader(o,e),n.attachShader(o,a),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS)){var i=n.getProgramInfoLog(o);return void console.error(i)}return n.detachShader(o,e),n.detachShader(o,a),n.deleteShader(e),n.deleteShader(a),o}(n,t.v,t.f);n.useProgram(e),kn._t[r]={},kn.xt[r]={};for(var a=0,o=t.a;a<o.length;a++){var i=o[a];kn._t[r][i]=n.getAttribLocation(e,i)}for(var u=0,f=t.u;u<f.length;u++){var c=f[u];kn._t[r][c]=n.getUniformLocation(e,c),kn.xt[r][c]=null}return e}function Sn(n,r,t){var e=n.createShader(r);if(!e)return console.error("Could not create shader handle"),null;n.shaderSource(e,t),n.compileShader(e);var a=n.getShaderInfoLog(e);return a&&a.length>0&&console.error(a),e}function In(n,r,t){if(r!==kn.gt){for(var e=0,a=Cn[kn.gt].a;e<a.length;e++){var o=a[e];n.disableVertexAttribArray(kn._t[kn.gt][o])}var i=Cn[r],u=t[r];n.useProgram(u),kn.$t=[null,null];for(var f=0,c=i.a;f<c.length;f++){o=c[f];n.enableVertexAttribArray(kn._t[r][o])}kn.gt=r}}function Dn(n,r,t,e){var a=kn.gt;null!==kn.xt[a][r]&&kn.xt[a][r]===t||(kn.xt[a][r]=t,Tn[r](n,kn._t[a][r],e))}function jn(n,r,t,e){null!==kn.$t[r]&&kn.$t[r]===t||(kn.$t[r]=t,n.activeTexture(n.TEXTURE0+r),n.bindTexture(n.TEXTURE_2D,e),0===r?Dn(n,"uj",0,0):Dn(n,"uk",1,1))}function On(){kn.At=""}function Nn(n,r,t){if(t&&kn.At!==r){for(var e=0,a=Cn[kn.gt].a;e<a.length;e++){var o=a[e],i=Fn[o]||3,u=null;switch(o){case"aa":u=t.pos;break;case"ab":u=t.texCoord;break;case"ac":u=t.weights;break;case"ad":u=t.particleBuffer}n.bindBuffer(n.ARRAY_BUFFER,u),n.vertexAttribPointer(kn._t[kn.gt][o],i,n.FLOAT,!1,0,0)}n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.index),kn.At=r}}function Rn(n,r){n.drawElements(n.TRIANGLES,r[kn.At].triCount,n.UNSIGNED_SHORT,0)}var En,Bn,Ln,zn,Gn="./ModelsB/",Kn={},Hn=1,Un=new Float32Array([0,0,0]),Vn=new Float32Array([0,0]),qn=new Float32Array([1,1]),Xn=[],Qn={},Yn=0,Wn="ST_SQ",Zn={},Jn={},nr={makeRenderState:function(n,r,t){var e={};e.rr=n,e.tr=t;var a=t.getContext(n);e.Ct=a,e.ar=["#000"],e.ir=[1080,1920],e.cr={},e.vr=[],e.lr=1,e.Ft=[],e.Tt=!1,e.kt=[],e.Pt=!1,r.l&&(e.ar=r.l.map((function(n){return"#"+n})));return e},getContext:function(n){var r=n.getContext("webgl");if(!r)throw console.error("This is very bad"),{};return er=!0,Xn[1]=Pn(r,1),Xn[0]=Pn(r,0),In(r,0,Xn),En=document.createElement("canvas"),Bn=En.getContext("2d"),rr(r,"Cube",xr),rr(r,"Plane",$r),rr(r,"UpPlane",_r),rr(r,"ParticleSystem",Cr),r.enable(r.CULL_FACE),r},setupCanvas:tr,setColors:function(n,r){n.St.ar=r},rendererSetSize:function(n,r){var t=r[0],e=r[1];n.St.rr.width=t,n.St.rr.height=e,tr(n.St.Ct,n.St.rr,n.Er.C_.array[0][34])},renderScene:function(n,r,t,e,a,o){er&&(tr(n.St.Ct,n.St.rr,n.Er.C_.array[0][34]),er=!1);Yn+=.045;var i=n.St.Ct;i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT);var u=n.Er.C_.array[0].f[3];if(u&&u[3]<u[2]){u[3]++;for(var f=u[0],c=u[1],v=[[],[]],s=u[3]/u[2],d=0;d<3;++d)v[0][d]=O(s,f[0][d],c[0][d]),v[1][d]=O(s,f[1][d],c[1][d]);In(i,0,Xn),Dn(i,"uo",null,new Float32Array(v[0].slice(0,3))),Dn(i,"up",null,new Float32Array(v[1].slice(0,3)))}n.St.Tt&&(n.St.Tt=!1,n.St.Ft.sort((function(n,r){return-n[0][n[1]][0]+r[0][r[1]][0]})));n.St.Pt&&(n.St.Pt=!1,n.St.kt.sort((function(n,r){return n[0][n[1]][0]-r[0][r[1]][0]})));ar(i,!1),i.depthMask(!0);d=0;for(var h=void 0;h=n.St.Ft[d++];)if(h[1]===l){var m=e[h[0][30][0]];if(m){var p=h[0][30][1];ir(n,i,h[0],p,m)}}else ur(n,i,h[0],h[1]);i.depthRange(1,1),fr(i,"UpPlane","",1,null,!1,5,5,5,0,new Float32Array([5,0,0,0,0,1,0,0,0,0,5,0,0,0,-7.5,1]),null),i.depthRange(0,1),i.depthMask(!1);for(d=0,h=void 0;h=n.St.Ft[d++];)or(n,i,h[0],h[1]);for(d=0,h=void 0;h=n.St.kt[d++];)ur(n,i,h[0],h[1]);var w=o.filter((function(n){return!n.Ln}));for(d=w.length-1;d>=0;--d){var y=w[d];if(y.update(a)){In(i,1,Xn);var M=sr(y.Kn.Wn[0]);M[3]=.75;var b=1===y.Kn.Hn,g=b||y.Kn.Xn[0]||y.Kn.Xn[1],A=b?0:10;Dn(i,"ut",null,new Float32Array(M)),Dn(i,"uu",null,y.Kn.Yn),Dn(i,"uv",null,y.Kn.Qn),Dn(i,"uw",null,new Float32Array(b?Un:[y.Kn.qn[0],y.Kn.qn[1],y.Kn.nr/2*Hn])),Dn(i,"ux",null,b?5/7.5:.48),Dn(i,"uy",null,new Float32Array([y.Kn.Xn[0],y.Kn.Xn[1],0])),Dn(i,"uz",null,g?A:1);var x=Math.sqrt(y.Kn.qn[0])*y.Kn.Zn,$=Math.sqrt(y.Kn.qn[1])*y.Kn.Zn;Nn(i,"ParticleSystem",Kn.ParticleSystem);var _=y.Kn.Vn,C=_[0],F=_[1],T=un(fn(ft(n)),[1,0,C,0,1,F]),k=T[0],P=T[1],S=T[2],I=T[3],D=T[4],j=T[5],N=new Float32Array([1*k/Hn,1*P/Hn,0,0,1*I/Hn,1*D/Hn,0,0,0,0,1/Hn,0,S/Hn,-j/Hn,0,1]);N[14]=-7+y.Kn.Jn-ft(n).Bn()[33][0],Dn(i,"ur",null,y.Gn),Dn(i,"us",null,y.zn%100),Dn(i,"ug",null,N),Dn(i,"uq",null,new Float32Array([x,0,0,0,$,0,0,0,(x+$)/4]));var R="PT";Qn.PT||(Qn.PT=wr(i,!1,!0)),jn(i,0,R,Qn.PT),ar(i,1!==y.Kn.Hn),Rn(i,Kn)}else w.splice(d,1)}return},addNotification:function(){},setupParticleRender:function(){},renderParticle:function(){},endParticleRender:function(){},disableCameraTransform:function(){}};function rr(n,r,t){var e=lr(n,t.vertices),a=t.pNum?lr(n,t.pNum):null,o=lr(n,t.texCoords),i=n.createBuffer();n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,i),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(t.indices),n.STATIC_DRAW),Kn[r]={pos:e,texCoord:o,index:i,particleBuffer:a,triCount:t.indices.length},On()}function tr(n,r,t){var e={x:t[0],y:t[1],z:t[2],xR:t[3],fN:t[4],fF:t[5],fc1:t[6],fc2:t[7]},a=e.fF,o=function(n,r,t,e){var a=new Float32Array(16),o=1/Math.tan(n/2);a[0]=o/r,a[5]=o,a[11]=-1;var i=1/(t-e);return a[10]=(e+t)*i,a[14]=2*e*t*i,a}(45*Math.PI/180,r.clientWidth/r.clientHeight,1.5,a);Hn=G/(7/o[5]);for(var i=0,u=[0,1];i<u.length;i++){In(n,u[i],Xn),Dn(n,"ue",null,new Float32Array(o));var f=Math.cos(e.xR*Math.PI/180),c=Math.sin(e.xR*Math.PI/180);Dn(n,"uf",null,new Float32Array([1,0,0,0,0,f,-c,0,0,c,f,0,e.x,e.y,e.z,1]))}n.clearColor(0,0,0,0),ar(n,!1),n.enable(n.BLEND),n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL),n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight);for(var v=sr(e.fc1),l=sr(e.fc2),s=0,d=[0];s<d.length;s++){In(n,d[s],Xn),Dn(n,"uo",null,new Float32Array(v.slice(0,3))),Dn(n,"up",null,new Float32Array(l.slice(0,3)))}In(n,0,Xn),Ln=pr(n,1,1,1,1),zn=function(n){for(var r=64,t=r,e=[],a=0;a<t;++a)for(var o=0;o<r/2;++o){var i=_();i>.05?(i=.92,!1):(i=1,!0);var u=[i,i,i,1],f=u[0],c=u[1],v=u[2],l=u[3];f*=255,c*=255,v*=255,l=255,e.push(f,c,v,l,f,c,v,l)}return mr(n,e,r,t,n.REPEAT,n.NEAREST)}(n)}var er=!0;function ar(n,r){r?n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE_MINUS_SRC_ALPHA):n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA)}function or(r,t,e,a){var o=e[33][4]||0;if(1!==o&&void 0!==e[33][2]&&"UpPlane"!==e[33][2]&&"None"!==e[33][2]&&""!==e[33][2]){switch(a){case n:var i=e[10];i[0],i[1],i[2];if(""===i[3])return}var u=W(e),f=.5*e[33][1]||.1;u+=.01-f;var c=0===o?"ST":Wn,v=E(e),l=v[0],s=v[1];l=1.2*l+18,s=1.2*s+18,l/=Hn,s/=Hn;var d=un(fn(ft(r)),nn(e)),h=d[0],m=d[1],p=d[2],w=d[3],y=d[4],M=d[5],b=new Float32Array([h*l,m*l,0,0,w*s,y*s,0,0,0,0,f,0,0,0,0,1]);b[12]=p/Hn,b[13]=-M/Hn,b[14]=-7+u-ft(r).Bn()[33][0];fr(t,"Plane",c,.45,null,!0,l,s,f,e.drawId,b,null)}}function ir(n,r,t,e,a){e&&(a[0]*=-1,a[1]*=-1);var o=W(t),i=Lr(S(a)[2]),u=200*i,f=(u+=u>5?50:10*u)/2/Hn,c=10/Hn,v=[1,1-i,Math.max(0,1-3*i),1],l=Math.atan2(a[1],a[0]),s=Math.cos(l),d=Math.sin(l),h=fn(ft(n)),m=(h[0],h[1],h[2]),p=(h[3],h[4],h[5]),w=Q(t);m+=w[0],p+=w[1],m+=u/2*s,p+=u/2*d;var y=new Float32Array([f*s,f*-d,0,0,c*d,c*s,0,0,0,0,.025,0,0,0,0,1]);y[12]=m/Hn,y[13]=-p/Hn,y[14]=-7+o-ft(n).Bn()[33][0];fr(r,"Cube","",1,null,!0,f,c,.025,t.drawId,y,null,void 0,void 0,void 0,v)}function ur(r,t,e,a){var o=e[33][2];if(void 0!==o&&""!==o&&"None"!==o){var i=1;if(e[9]&&(i=e[9][0])<b)o&&!Kn[o]&&(Jn[o]||cr(t,o));else{var u=W(e),f=.5*e[33][1]||.1,c=o||"Cube",v=e[33][7]||"",l=e[33][5]||!1,s=e[33][6]||!1,d=E(e),h=d[0],m=d[1];h/=Hn,m/=Hn;var p=e[33][3],w=null,y="000000";switch(a){case 4:y=r.St.ar[e[4][2]];break;case 5:y=r.St.ar[e[5][3]];break;case n:var M=e[10],g=(M[0],M[1]),A=M[2],x=M[3];if(""===x)return;var $="t"+g+"_"+x+"_"+(y=r.St.ar[A]);Qn[$]||(Qn[$]=function(n,r,t,e,a,o,i){e.font="bold "+o+"px Poppins,sans-serif";var u=e.measureText(a);return t.width=u.width,t.height=1.05*o,e.font="bold "+o+"px Poppins,sans-serif",e.textAlign="center",e.textBaseline="middle",e.lineCap="round",e.lineJoin="round",e.clearRect(0,0,t.width,t.height),e.fillStyle=i,e.fillText(a,t.width/2,t.height/2),{texture:dr(n,t),width:u.width}}(t,0,En,Bn,x,g,y)),w=Qn[$].texture,h=Qn[$].width/(2*Hn),m=g/(2*Hn)}var _=un(fn(ft(r)),nn(e)),T=_[0],k=_[1],P=_[2],S=_[3],I=_[4],D=_[5],j=new Float32Array([T*h,k*h,0,0,S*m,I*m,0,0,0,0,f,0,0,0,0,1]),O=e.f[4];if(O)j=Mr(j,R=yr(O));var N=e.f[5];if(N){var R=function(n){var r=F(n),t=C(n),e=new Float32Array(16);return e[0]=r,e[2]=t,e[5]=1,e[8]=-t,e[10]=r,e[15]=1,e}(N);j=Mr(j,R)}var B=e.f[6];if(B)j=Mr(R=yr(B),j);j[12]=P/Hn,j[13]=-D/Hn,j[14]=-7+u-ft(r).Bn()[33][0];var L=null;e.f[2]&&(L=e.f[2]);var z=void 0;if(e[40]){var G=e[40][4]?25*Math.cos(Yn):0,K=e[40][4]?25*Math.cos(.5*Yn+2):0,H=Q(e);z=[(e[40][0]-H[0]+G)/Hn*e[40][5],-(e[40][1]-H[1]+K)/Hn*e[40][6],0];var U=un([Math.cos(-7/180*Math.PI),-Math.sin(-7/180*Math.PI),0,Math.sin(-7/180*Math.PI),Math.cos(-7/180*Math.PI),0],[1,0,z[0],0,1,z[1]]),V=(U[0],U[1],U[2]);U[3],U[4];z=[V,U[5],0]}if(e[43]&&e[43][0]){var q=e[43][0];j[14]+=q,z&&(z[2]=.36*q)}fr(t,c,v,i,L,l,h,m,f,e.drawId,j,w,p,s,z,void 0,y)}}}function fr(n,r,t,e,a,o,i,u,f,c,v,l,s,d,h,m,p){var w,y=!0;Kn[r]||(Jn[r]||cr(n,r),r="Cube",y=!1),In(n,0,Xn),h?Dn(n,"ui",null,new Float32Array(h)):Dn(n,"ui","B",Un),Nn(n,r,Kn[r]);var M=e;if("ST"===t||t===Wn)Qn[t]||(Qn[t]=wr(n,t===Wn)),jn(n,0,t,Qn[t]),w=[1,1,1,e];else if(t){var b=vr(e,m,p);y=function(n,r,t,e){var a=t[r];if(!t[r]){var o=new Image;o.crossOrigin="anonymous",a={texture:pr(n,e[0],e[1],e[2],e[3]),img:o,loaded:!1},o.src="./"+r,function(r){var e=r;o.addEventListener("load",(function(){t[e].texture=dr(n,t[e].img),t[e].loaded=!0}),!1)}(r),t[r]=a}a.texture&&jn(n,0,r,a.texture);return t[r].loaded}(n,t,Zn,b)&&y,w=[1,1,1,e]}else if("Cube"===r||"Plane"===r||"UpPlane"===r){var g=null,A=l;null===A&&(g="b",A=Ln),jn(n,0,g,A),M=null,w=vr(e,m,p)}else if(l)jn(n,0,null,l),w=[1,1,1,e];else if(s){if(!Qn[s]){var x=s.split("_");Qn[s]=function(n,r){for(var t=r.length,e=r.map((function(n){return sr(n)})),a=4,o=t*a,i=o,u=[],f=0;f<i;++f)for(var c=0;c<o;++c){var v=e[Math.floor(c/a)],l=v[0],s=v[1],d=v[2],h=v[3],m=1-f/(i-1);l=255*O(m,l,.5*l),s=255*O(m,s,.5*s),d=255*O(m,d,.5*d),h=255,u.push(l,s,d,h)}return mr(n,u,o,i,n.CLAMP_TO_EDGE,n.LINEAR)}(n,x)}jn(n,0,s,Qn[s]),w=[1,1,1,e]}else w=vr(e,m,p);d&&!y||(o?jn(n,1,"decal",zn):jn(n,1,"b",Ln),a?(Dn(n,"un",null,new Float32Array(a[0])),Dn(n,"um",null,new Float32Array(a[1]))):(Dn(n,"un","O",qn),Dn(n,"um","B",Vn)),Dn(n,"ul",null,.12*c),Dn(n,"uh",null,new Float32Array([i/2,u/2,f/2])),Dn(n,"ut",M,new Float32Array(w)),Dn(n,"ug",null,v),Rn(n,Kn))}function cr(n,r){var t=function(){this.status<400&&this.status>=200&&function(n,r,t){var e=new DataView(t),a=0,o=e.getUint16(a,!1);a+=2;var i=e.getUint16(a,!1);a+=2;for(var u=[],f=[],c=[],v=[],l=0;l<o;++l)for(var s=0;s<3;++s){var d=e.getInt8(a);a+=1,u.push(d/100)}for(l=0;l<o;++l){var h=e.getUint8(a);a+=1;var m=(240&h)>>4,p=15&h;f.push(m/15),f.push(p/15)}for(var w=0;w<i;++w)for(s=0;s<3;++s)d=e.getUint16(a,!1),a+=2,v.push(d);var y=lr(n,u),M=lr(n,f),b=c.length>0?lr(n,c):null,g=n.createBuffer();n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,g),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(v),n.STATIC_DRAW),Kn[r]={pos:y,texCoord:M,weights:b,index:g,triCount:v.length},On()}(n,r,this.response)},e=new XMLHttpRequest;Jn[r]={loaded:!1},e.addEventListener("load",t.bind(e)),e.open("GET",Gn+r+".g3d.bin"),e.responseType="arraybuffer",e.send()}function vr(n,r,t){return r||(r=t?sr(t):[1,1,1]),[r[0],r[1],r[2],n]}function lr(n,r){var t=n.createBuffer();return n.bindBuffer(n.ARRAY_BUFFER,t),n.bufferData(n.ARRAY_BUFFER,new Float32Array(r),n.STATIC_DRAW),t}function sr(n){var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return r?[parseInt(r[1],16)/255,parseInt(r[2],16)/255,parseInt(r[3],16)/255,1]:[0,0,0,1]}function dr(n,r){var t=n.createTexture(),e=n.TEXTURE_2D;return n.activeTexture(n.TEXTURE2),n.bindTexture(e,t),n.texImage2D(e,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r),n.texParameteri(e,n.TEXTURE_MIN_FILTER,n.LINEAR),!function(n){return hr(n.width)&&hr(n.height)}(r)?(n.texParameteri(e,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(e,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE)):(n.texParameteri(e,n.TEXTURE_WRAP_S,n.REPEAT),n.texParameteri(e,n.TEXTURE_WRAP_T,n.REPEAT)),t}function hr(n){return 0==(n&n-1)}function mr(n,r,t,e,a,o){var i=n.createTexture(),u=new Uint8Array(r);if(null===i)throw"Unable to create texture";var f=n.TEXTURE_2D;return n.activeTexture(n.TEXTURE2),n.bindTexture(f,i),n.texImage2D(f,0,n.RGBA,t,e,0,n.RGBA,n.UNSIGNED_BYTE,u),n.texParameteri(f,n.TEXTURE_WRAP_S,a),n.texParameteri(f,n.TEXTURE_WRAP_T,a),n.texParameteri(f,n.TEXTURE_MIN_FILTER,o),n.texParameteri(f,n.TEXTURE_MAG_FILTER,o),i}function pr(n,r,t,e,a){return mr(n,[r*=255,t*=255,e*=255,a*=255],1,1,n.CLAMP_TO_EDGE,n.LINEAR)}function wr(n,r,t){for(var e=256,a=127.5,o=[],i=0;i<256;++i)for(var u=0;u<e;++u){var f=void 0,c=void 0,v=void 0;if(r)f=82.5,c=u-N(u,82.5,172.5),v=i-N(i,82.5,172.5);else c=u-a,v=i-a,f=a;var l=Math.sqrt(c*c+v*v)/f;t?(l=N(1.5*l-.5,0,1),l*=l):l=j(Math.min(l,1),0,1);var s=Math.round(255*(1-l));o.push(0,0,0,s)}return mr(n,o,e,256,n.CLAMP_TO_EDGE,n.LINEAR)}function yr(n){var r=F(n),t=C(n),e=new Float32Array(16);return e[0]=1,e[5]=r,e[6]=t,e[9]=-t,e[10]=r,e[15]=1,e}function Mr(n,r){var t=n[0],e=n[1],a=n[2],o=n[3],i=n[4],u=n[5],f=n[6],c=n[7],v=n[8],l=n[9],s=n[10],d=n[11],h=n[12],m=n[13],p=n[14],w=n[15],y=r[0],M=r[1],b=r[2],g=r[3],A=r[4],x=r[5],$=r[6],_=r[7],C=r[8],F=r[9],T=r[10],k=r[11],P=r[12],S=r[13],I=r[14],D=r[15];return new Float32Array([t*y+e*A+a*C+o*P,t*M+e*x+a*F+o*S,t*b+e*$+a*T+o*I,t*g+e*_+a*k+o*D,i*y+u*A+f*C+c*P,i*M+u*x+f*F+c*S,i*b+u*$+f*T+c*I,i*g+u*_+f*k+c*D,v*y+l*A+s*C+d*P,v*M+l*x+s*F+d*S,v*b+l*$+s*T+d*I,v*g+l*_+s*k+d*D,h*y+m*A+p*C+w*P,h*M+m*x+p*F+w*S,h*b+m*$+p*T+w*I,h*g+m*_+p*k+w*D])}var br=-1,gr=[0,1,1,1,1,0,0,0],Ar=[0,1,2,2,3,0],xr={vertices:[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,br,1,-1,br,1,1,br,-1,1,br,-1,-1,1,1,-1,1,-1,-1,br,1,-1,br,1,-1,1,1,1,1,1,-1,br,1,1,br],texCoords:[0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,0,1,1,1,1,1,1,0,1,1,1,0],indices:[0,1,2,2,3,0,7,6,5,5,4,7,4,0,3,3,7,4,3,2,6,6,7,3,10,11,9,9,8,10,12,14,15,15,13,12]},$r={vertices:[-1,-1,0,1,-1,0,1,1,0,-1,1,0],texCoords:gr,indices:Ar},_r={vertices:[-1,-1,br,1,-1,br,1,-1,1,-1,-1,1],texCoords:gr,indices:Ar},Cr=function(){for(var n=[],r=[],t=[],e=[],a=0;a<81;++a){for(var o=0,i=$r.vertices;o<i.length;o++){var u=i[o];n.push(u/10)}for(var f=0,c=$r.texCoords;f<c.length;f++){var v=c[f];r.push(v)}t.push(a),t.push(a),t.push(a),t.push(a);for(var l=0,s=$r.indices;l<s.length;l++){var d=s[l];e.push(d+4*a)}}return{program:1,vertices:n,texCoords:r,indices:e,pNum:t}}();function Fr(n,r,t,e,a,o){for(var i=t.d[44],u=0,f=a.collidesWith;u<f.length;u++)for(var c=f[u],v=0,l=n.lt[c];v<l.length;v++)for(var s=l[v],d=0;d<e[s].length;++d){var h=e[s].array[d];if(h.uid!==t.uid&&(i||h.d[44]||t.e[h.uid])){var m=Q(t),p=t[3],w=Y(t),y=Z(t),M=Q(h),b=h[3],g=Y(h),A=Z(h),x=!1;if(p[0]>b[0]){var $=m;m=M,M=$,$=w,w=g,g=$,$=y,y=A,A=$,$=p,p=b,b=$,x=!0}var _=p[0]+b[0],C=null;if(2===_?C=Ir(m,w,p,M,g,b,x):3===_?C=Dr(m,w,p,M,g,b,x,A):4===_?C=jr(m,w,p,M,g,b,x):5===_?C=Or(m,w,p,M,g,b,x,o):6===_&&(C=Nr(m,w,p,M,g,b,x,o)),C)Tr(n,r,t,h,C[0],C[1]);else t.e[h.uid]&&Sr(n,r,5,t,h),delete t.e[h.uid]}}}function Tr(n,r,t,e,a,o){for(var i,u,f=!1,c=0,v=t.a[0];c<v.length;c++){if(((d=v[c])[0]===e.type||d[0]===e.label)&&6===d[2][0]&&wt(n,t,d[1])){f=!0;break}}if(!f)for(var l=0,s=e.a[0];l<s.length;l++){var d;if(((d=s[l])[0]===t.type||d[0]===t.label)&&6===d[2][0]&&wt(n,t,d[1])){f=!0;break}}if(f){var h=null;o+=.1;var m=1,p=1,w=1,y=1;t[26]&&(m=(i=t[26])[0],p=i[1]),e[26]&&(w=(u=e[26])[0],y=u[1]);var M=m>0,b=w>0;if(M||b){var g=M?1/m:0,A=b?1/w:0,x=g+A;if((h=D([t[1][0]-e[1][0],t[1][1]-e[1][1]],a))<0){var $=(1+Math.min(p,y))*h/x,_=$*a[0],C=$*a[1];t[1][0]-=_*g,t[1][1]-=C*g,e[1][0]+=_*A,e[1][1]+=C*A}var F=a[0]*o*.25,T=a[1]*o*.25;U(t,t[13][0]+F*(g/x),t[13][1]+T*(g/x),r.Br()),U(e,e[13][0]-F*(A/x),e[13][1]-T*(A/x),r.Br()),h<-1&&(t.e[e.uid]||Pr(r,t,e,a,o,h))}}t.e[e.uid]?Sr(n,r,4,t,e,a):(Sr(n,r,0,t,e,a),t.e[e.uid]=1,e.e[t.uid]=1)}function kr(n,r){var t,e,a=(t=n.ar(),(e=r)[4]?t[e[4][2]]:e[5]?t[e[5][3]]:e[10]?t[e[10][2]]:"000000"),o=r[33],i=0,u=0,f=!0;o&&(i=W(r),u=o[1],f=!1),vn(n.It(),f,Q(r),i,u,a,E(r),36,1)}function Pr(n,r,t,e,a,o){null==o&&(o=D([r[1][0]-t[1][0],r[1][1]-t[1][1]],e));var i=E(r),u=i[0],c=i[1],v=[r[0][0]+e[0]*(-u+a),r[0][1]+e[1]*(-c+a)],l=r[33],s=.25,d=!0;l&&(s=W(r),l[1],d=!1),function(n,r,t,e,a,o,i){var u=j(Math.min(1,i/36),.25,2.75),f=new sn(r,1,24,t,o,a,7,50,["#A2A2A2"],u,e,0);n.push(f)}(n.It(),d,v,s,[e[0],e[1]],E(r),Math.abs(o)),r.f[1]=[1.5,e,-o],t.f[1]=[1.5,[-1*e[0],-1*e[1]],-o],X(r,[f],n.Br),X(t,[f],n.Br)}function Sr(n,r,t,e,a,o){o=o||[0,0];for(var i=!1,u=!1,f=0,c=e.a[t];f<c.length;f++){if(((d=c[f])[0]===a.type||d[0]===a.label)&&wt(n,e,d[1])){r.Dt(n,e,d[2],!0,a,o);var v=d[2][0];i=i||8===v,u=u||5===v&&a[7][0]<=0}}for(var l=0,s=a.a[t];l<s.length;l++){var d;if(((d=s[l])[0]===e.type||d[0]===e.label)&&wt(n,a,d[1])){r.Dt(n,a,d[2],!0,e,[-1*o[0],-1*o[1]]);v=d[2][0];u=u||8===v,i=i||5===v&&e[7][0]<=0}}i&&!e[31]&&kr(r,e),u&&!a[31]&&kr(r,a)}function Ir(n,r,t,e,a,o,i){var u=t[1]*r+o[1]*a,f=I(n,e);if(u*u>f){var c=u-$(f),v=S([n[0]-e[0],n[1]-e[1]]);return i&&(v[0]*=-1,v[1]*=-1),[v,c]}return null}function Dr(n,r,t,e,a,o,i,u){var f=n[0],c=n[1],v=t[1]*r,l=e[0],s=e[1],d=o.slice(1),h=d[0],m=d[1];(h=h/2*a,m=m/2*a,f-=l,c-=s,0!==u)&&(f=(C=A(-u))*(T=f)-(F=g(-u))*(k=c),c=C*k+F*T);if(f-v>h||f+v<-h||c-v>m||c+v<-m)return null;var p=f,w=c,y=[0,0];p<-h?(p=-h,y[0]=-1):p>h&&(p=h,y[0]=1),w<-m?(w=-m,y[1]=-1):w>m&&(w=m,y[1]=1);var M=v*v,b=I([f,c],[p,w]);if(M>=b){var x=$(M)-$(b);if(p===f&&w===c){var _=[Math.abs(f- -h),Math.abs(f-h),Math.abs(c- -m),Math.abs(c-m)];y=[-1,0],(x=_[0])>_[1]&&(x=_[1],y=[1,0]),x>_[2]&&(x=_[2],y=[0,-1]),x>_[3]&&(x=_[3],y=[0,1])}if(0!==u){var C=A(u),F=g(u),T=y[0],k=y[1];y[0]=C*T-F*k,y[1]=C*k+F*T}var P=S(y);return i&&(P[0]*=-1,P[1]*=-1),[P,x]}return null}function jr(n,r,t,e,a,o,i){var u=n[0],f=n[1],c=t.slice(1),v=c[0],l=c[1],s=e[0],d=e[1],h=o.slice(1),m=h[0],p=h[1];return l/=2,p/=2,u-(v/=2)<s+(m/=2)&&u+v>s-m&&f-l<d+p&&f+l>d-p?[S([s-u,d-f]),0]:null}function Or(n,r,t,e,a,o,i,u){var f=n[0],c=n[1],v=t[1]*r,l=o[1],s=o[2],d=o[3],h=o[4],m=o[5];l||(v*=-1);var p,w=!1,y=0;return h&&c+v>G?(w=!0,p=[0,-1],y=c+v-G):s&&c-v<-960&&(w=!0,p=[0,1],y=-(c-v)-G),m&&f+v>z?(w=!0,p=[-1,0],y=f+v-z):d&&f-v<-560&&(w=!0,p=[1,0],y=-(f-v)-z),w?(i&&(p[0]*=-1,p[1]*=-1),[p,y]):null}function Nr(n,r,t,e,a,o,i,u){var f=n[0],c=n[1],v=t.slice(1),l=v[0],s=v[1],d=o[1],h=o[2],m=o[3],p=o[4],w=o[5];l/=2,s/=2,d||(l*=-1,s*=-1);var y,M=!1,b=0;return p&&c+s>G?(M=!0,y=[0,-1],b=c+s-G):h&&c-s<-960&&(M=!0,y=[0,1],b=-(c-s)-G),w&&f+l>z?(M=!0,y=[-1,0],b=f+l-z):m&&f-l<-560&&(M=!0,y=[1,0],b=-(f-l)-z),M?(i&&(y[0]*=-1,y[1]*=-1),[y,b]):null}function Rr(n,r){return n instanceof Array?r.jt(n[0]):n}var Er={0:function(n,r){n.Ot("score",Rr(r[1],n))},1:function(n,r,t,e,a,o,i,u,f){for(var c,v,l,s=[],d=3;d<9;++d)r[d]=r[d]||0;c=1===r[7]?0:0===r[7]?2*n.Nt(t)-1:Math.floor(n.Nt(t)*r[7])/(r[7]-1)*2-1,v=1===r[8]?0:0===r[8]?2*n.Nt(t)-1:Math.floor(n.Nt(t)*r[8])/(r[8]-1)*2-1,s[0]=Rr(r[3],n)+c*Rr(r[5],n),s[1]=Rr(r[4],n)+v*Rr(r[6],n),l=r[2]?s:[Q(t)[0]+s[0],Q(t)[1]+s[1],W(t)];var h=n.Rt(r[1],l,[0,0,0],r[2]?t:null,f);r[2]&&t.b.push(h)},11:function(n,r,t,e,a,o,i,u,f){var c=Z(t)+(2*n.Nt(t)-1)*(y*r[2]/2/180),v=r[3]+(2*n.Nt(t)-1)*r[4],l=A(c)*v,s=g(c)*v,d=[Q(t)[0]+l,Q(t)[1]+s,W(t)];n.Rt(r[1],d,[c,0,0],null,f)},2:function(n,r,t){var e=r[1];t[1][e?0:1]=Rr(r[2],n)},3:function(n,r,t){t[1][r[1]]*=-1},4:function(n){n.Et()},5:function(n,r,t,e,a,o,i,u){var f=a&&a[7];f&&(f[0]-=Rr(r[1],n),f[0]<=0&&n.Hr().push(a.uid))},6:function(){},10:function(){},7:function(n,r,t,e,a,o,i,u){var f=!1,c=!1,v=[0,0],l=E(t);Math.abs(o[0])>.1&&(f=!0,v[0]=t[13][0]>0?-1080-2*l[0]:1080+2*l[0]),Math.abs(o[1])>.1&&(c=!0,v[1]=t[13][1]>0?-1920-2*l[1]:1920+2*l[1]),f&&U(t,t[13][0]+v[0],t[13][1],n.Br()),c&&U(t,t[13][0],t[13][1]+v[1],n.Br())},8:function(n,r,t){n.Hr().push(t.uid)},9:function(n,r,t,e,a,o,i,u){U(t,i[0],i[1],n.Br())}};Er[12]=function(n,r,t,e,a,o,i,u){!function(n,r,t){if(n.c!==r&&!r.c){n.c=r,r.b.push(n.uid);var e=an(r),a=on(e,n[13],1);U(n,a[0],a[1],t);var o=on(e,[0,1],0);q(n,-1*Math.atan2(o[0],o[1]),t)}}(t,a,n.Br())},Er[13]=function(n,r,t,e,a,o,i,u){var f=S(u),c=Lr(f[2])*Rr(r[1],n);t[1][0]+=f[0]*c,t[1][1]+=f[1]*c},Er[14]=function(n,r,t){var e=0;t[5]&&(e=t[5][3]),t[4]&&(e=t[4][2]),t[25]=[5,r[1],e]},Er[17]=function(n,r,t,e){var a=r[1],o=n.Er()[a];if(o.length>0){var i=Q(t),u=Q(o.array[0]),f=Rr(r[2],n),c=S([u[0]-i[0],u[1]-i[1]]),v=c[0],l=c[1],s=c[2];if(s<f*e){if(s<b)return;U(t,u[0],u[1],n.Br())}else U(t,t[13][0]+v*f*e,t[13][1]+l*f*e,n.Br())}},Er[18]=function(n,r,t,e){var a=T(Rr(r[1],n));q(t,t[14]+a*e,n.Br())},Er[19]=function(n,r,t,e){var a=r[1],o=n.Er()[a];if(o.length>0){var i=Q(t),u=Q(o.array[0]),f=T(Rr(r[2],n)),c=x(i[1]-u[1],i[0]-u[0])+y-t[14],v=c<0?-1:1;Math.abs(c)>y&&(v*=-1,c=(2*y-Math.abs(c))*v),Math.abs(c)<f*e?q(t,t[14]+c,n.Br()):q(t,t[14]+v*f*e,n.Br())}},Er[20]=function(n,r,t,e){var a=Rr(r[1],n),o=t[14],i=S([A(o),g(o)]),u=i[0],f=i[1];U(t,t[13][0]+u*a*e,t[13][1]+f*a*e,n.Br())},Er[21]=function(n,r,t,e){var a=Rr(r[1],n),o=Rr(r[2],n),i=Rr(r[3],n),u=Rr(r[4],n);if(r[6]&&(r[5]=2*n.Nt(t)*Math.PI/i),!r[7]){var f=Rr(r[5],n)+n.Bt();U(t,t[13][0]+a*A(f*i),t[13][1]+o*g(f*u),n.Br()),r[7]=f}var c=r[7];r[7]+=e;var v=r[7];U(t,t[13][0]+a*A(v*i)-a*A(c*i),t[13][1]+o*g(v*u)-o*g(c*u),n.Br())},Er[15]=function(n,r,t,e){var a=Rr(r[1],n),o=Rr(r[2],n);t[1][0]+=a*e,t[1][1]+=o*e},Er[16]=function(n,r,t){t[8]=[Rr(r[1],n),Rr(r[2],n)]},Er[22]=function(n,r,t,e){var a=S(t[1]),o=Math.max(0,a[2]-Rr(r[1],n)*e);t[1]=[a[0]*o,a[1]*o]},Er[23]=function(n,r,t){var e=r[1];r[2]?e+=n.Lt():e-=1;var a=e>0&&e!=n.Lt(),o=t&&t[0]?t[0]:[0,0],i=r[3],u=r[4];n.zt(e,a,i,u,o)},Er[24]=function(n,r){n.Bn()[29]=[r[1],r[2],0,0]},Er[25]=function(n,r){n.Gt(Rr(r[1],n))},Er[26]=function(n,r){n.Ot(r[1],r[2],!1)},Er[27]=function(n,r,t){var e=Rr(r[1],n),a=Rr(r[2],n),o=Rr(r[3],n);t[9]=[e,a,o]},Er[28]=function(n,r,t,e,a,o,i,u,f){var c,v,l=[],s=[r[1],r[2],r[3],r[4],r[5],r[6]].filter((function(n){return""!==n})),d=s[Math.floor(n.Nt(t)*s.length)];c=1===r[11]?0:0===r[11]?2*n.Nt(t)-1:Math.floor(n.Nt(t)*r[11])/(r[11]-1)*2-1,v=1===r[12]?0:0===r[12]?2*n.Nt(t)-1:Math.floor(n.Nt(t)*r[12])/(r[12]-1)*2-1,l[0]=Rr(r[7],n)+c*Rr(r[9],n),l[1]=Rr(r[8],n)+v*Rr(r[10],n);var h=[Q(t)[0]+l[0],Q(t)[1]+l[1],W(t)];r[13]&&(h=l);var m=n.Rt(d,h,[0,0,0],r[13]?t:null,f);r[13]&&t.b.push(m)},Er[29]=function(n,r,t,e){var a=r[1],o=n.Er()[a];if(o.length>0){var i=o.array[0],u=Q(t),f=Q(i),c=f[0]-u[0],v=f[1]-u[1],l=W(i)-W(t);r[3]&&(c=0),r[4]&&(v=0),r[5]&&(l=0),r[6]&&(v>0&&(v=0),c<0&&(c=0));var s=function(n){if(0===n[0]&&0===n[1]&&0===n[2])return[1,0,0,0];var r=$(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);return[n[0]/r,n[1]/r,n[2]/r,r]}([c,v,l]),d=s[0],h=s[1],m=s[2],p=s[3],w=2+Math.floor(p*Rr(r[2],n));if(p<w*e){if(p<b)return;U(t,t[13][0]+c,t[13][1]+v,n.Br()),t[33]&&(t[33][0]+=l)}else U(t,t[13][0]+d*w*e,t[13][1]+h*w*e,n.Br()),t[33]&&(t[33][0]+=m*w*e)}},Er[30]=function(n,r,t,e){t.f[2]||(t.f[2]=[[Rr(r[1],n),Rr(r[2],n)],[0,0]]);var a=Rr(r[3],n),o=Rr(r[4],n),i=E(t);t.f[2][1][0]+=a*e/(2*i[0]),t.f[2][1][1]+=o*e*-1/(2*i[1])},Er[31]=function(n,r){var t,e=n.Bn();t=e.f[3]?e.f[3][1]:e[34].slice(6,8).map((function(n){return sr(n)})),e.f[3]=[t,[sr(r[1]),sr(r[2])],r[3],0,r[4]]},Er[32]=function(n,r,t){if(t[33]){var e=t[36],a=t[33][0],o=t[33][8];t[36]=[e[0],e[1],Rr(r[1],n)+o-a,e[3],e[4],Rr(r[2],n)]}},Er[33]=function(n,r,t){var e=t[36];t[36]=[e[0]+Rr(r[1],n),e[1]+Rr(r[2],n),e[2],.25,.25,e[5]]},Er[34]=function(n){n.Kt()},Er[35]=function(n,r,t,e){var a=T(Rr(r[1],n));t.f[5]+=a*e},Er[36]=function(){},Er[37]=function(n,r,t){var e=Q(t);t[40]=[e[0],e[1],0,0,r[1],r[2],r[3],r[4],r[5]]},Er[38]=function(n,r,t,e){var a=T(Rr(r[1],n));t.f[4]+=a*e},Er[39]=function(n,r){n.Ot(r[1],r[2],!0)},Er[40]=function(n,r,t,e,a,o,i,u){Pr(n,t,a,o,D(E(t),o),r[1])},Er[42]=function(n,r){n.Ht(!1,r[1],Rr(r[2],n))},Er[41]=function(n,r){n.Ht(!0,r[1],Rr(r[2],n))},Er[43]=function(n,r,t,e){if(t[33]){var a=Rr(r[1],n),o=Rr(r[2],n);if(r[4]&&(r[3]=2*n.Nt(t)*Math.PI/o),!r[5]){var i=Rr(r[3],n)+n.Bt(),u=t[33][0];t[33][0]=u+a*g(i*o),r[5]=i}var f=r[5];r[5]+=e;var c=r[5],v=t[33][0];t[33][0]=v+a*g(c*o)-a*g(f*o)}},Er[44]=function(n,r,t){t[42]=[r[1],r[2],t[13][0]-2e3,r[2]]};var Br=null;function Lr(n){return j(Math.min(n/421,1),0,1)}Er[45]=function(n,r,t){Br=t[33].slice()},Er[46]=function(n,r,t){if(Br){var e=t[33][0],a=t[33][1],o=t[33][4];t[33]=Br.slice();var i=t[33][1];t[33][0]=e+(i-a)/2,t[33][4]=o}},Er[47]=function(n,r,t){n.Ut(r[1],Q(t),W(t))},Er[48]=function(n,r,t){Math.abs(t[13][0])>r[1]&&U(t,t[13][0]>0?r[1]:-r[1],t[13][1],n.Br())},Er[49]=function(n,r,t,e){var a=T(Rr(r[1],n)),o=-.01,i=Rr(r[2],n);if(r[4]&&(r[3]=2*n.Nt(t)*Math.PI/i),!r[5]){var u=Rr(r[3],n)+n.Bt(),f=t.f[6]||0;t.f[6]=f+a*g(u*i);var c=t[33][0];t[33][0]=c+o*Math.abs(g(u*i)),r[5]=u}var v=r[5];r[5]+=e;var l=r[5],s=t.f[6]||0;t.f[6]=s+a*g(l*i)-a*g(v*i);var d=t[33][0];t[33][0]=d+o*Math.abs(g(l*i))-o*Math.abs(g(v*i))},Er[50]=function(n,r,t,e){var a=0;t[43]&&t[43][0]&&(a=t[43][0]),t[43]=[a,r[1],r[2],0]},Er[51]=function(n,r,t,e,a,o,i,u,f){var c,v,l=[],s=[r[1],r[2],r[3],r[4],r[5],r[6]].filter((function(n){return""!==n})),d=s[Math.min(s.length,Rr(r[7],n))];c=2*n.Nt(t)-1,v=2*n.Nt(t)-1,l[0]=Rr(r[9],n)+c*Rr(r[11],n),l[1]=Rr(r[10],n)+v*Rr(r[12],n);var h=[Q(t)[0]+l[0],Q(t)[1]+l[1],W(t)];r[8]&&(h=l);var m=n.Rt(d,h,[0,0,0],r[8]?t:null,f);r[8]&&t.b.push(m)};var zr={Vt:[0,0]},Gr=!1;function Kr(n,r){var t=r.target.getBoundingClientRect(),e=(r.clientX-t.left)/t.width,a=(r.clientY-t.top)/t.height;return n([e*B-540,a*L-960])}var Hr=.036*-1080;function Ur(n,r,t){var e,a;if(!n){var o=t[r]=zr;zr={qt:o.qt,Vt:o.Vt,Xt:o.Xt,Qt:o.Qt,Yt:o.Yt,Wt:o.Wt,Zt:o.Zt,Jt:o.Jt}}a=r>0?t[r-1]:{mousePosition:[0,0],lastMousePos:[0,0]},e=t[r];var i=0===a.qt,u=a.Qt||a.Yt||a.Jt,f=a.Qt||a.Zt,c=a.Yt||a.Wt,v=i&&a.Vt[0]<Hr||f,l=i&&a.Vt[0]>Hr||c,s=0===e.qt,d=e.Qt||e.Yt||e.Jt,h=s&&e.Vt[0]<Hr||e.Qt||e.Zt,m=s&&e.Vt[0]>Hr||e.Yt||e.Wt,p=[],w=[0,0],y=[0,0];return s||d?(p.push(i||u?3:0),w=e.Vt,e.Vt&&e.Xt&&(y=[Math.round(e.Vt[0])-Math.round(e.Xt[0]),Math.round(e.Vt[1])-Math.round(e.Xt[1])])):(i||u)&&(p.push(6),w=e.Vt,e.Vt&&e.Xt&&(y=[Math.round(e.Vt[0])-Math.round(e.Xt[0]),Math.round(e.Vt[1])-Math.round(e.Xt[1])])),h?(p.push(i||f?4:1),w=e.Vt):v&&(p.push(7),w=e.Vt),m?(p.push(i||c?5:2),w=e.Vt):l&&(p.push(8),w=e.Vt),w[0]=Math.round(w[0]),w[1]=Math.round(w[1]),[p,w,y]}var Vr=[{id:1,update:function(n,r,t){var e=n[1],a=e[0],o=e[1];n[12]&&(a+=n[12][0],o+=n[12][1],delete n[12]),(Math.abs(a)>b||Math.abs(o)>b)&&U(n,n[13][0]+a*r,n[13][1]+o*r,t.Br)}},{id:8,update:function(n,r,t){var e=n[8][1],a=n[15]*(1-e)+n[8][0]*e;Math.abs(n[15]-a)>5e-5&&function(n,r,t){n[15]=r,X(n,[w,i,f,o,0,s],t)}(n,a,t.Br)}},{id:9,update:function(n,r,t){var e=n[9],a=e[0],o=e[1],i=e[2]*r;n[9][0]=a*(1-i)+o*i}},{id:6,update:function(n,r,t){}},{id:4,render:function(n){}},{id:5,render:function(n){}},{id:n,render:function(n){}},{id:r,update:function(n,r,t){var e=n[11][1],a=e?ft(t).jt(e):t.Nr;n[10][3]=n[11][0]+" "+a}},{id:u,update:function(n,r,t){var e=n[25][1];n[25][0]--,n[25][0]<=0&&(e=n[25][2],delete n[25]),n[5]&&(n[5][3]=e),n[4]&&(n[4][2]=e)}},{id:c,update:function(n,r,t){if(t.yt){var e=(t.ne>t.yt?"You Won!":"You Lost")+" "+t.ne+" vs "+t.yt;n[10][3]=-1!==t.ne?e:n[28]}else n[10][3]=-1!==t.ne?H("gs_hm_score")+" "+t.ne:n[28]}},{id:v,update:function(n,r,t){var e=2*_()*Math.PI,a=n[29],o=a[0],i=a[1],u=a[2],f=a[3];if(o<.02)delete n[29],U(n,n[13][0]-u,n[13][1]-f,t.Br);else{var c=F(e)*o,v=C(e)*o;n[29]=[.8*o,i-r,c,v],U(n,n[13][0]+c-u,n[13][1]+v-f,t.Br)}}},{id:d,update:function(n,r,t){for(var e=[3,3,.001],a=[0,0,0],o=0;o<3;++o){var i=n[36][o],u=n[37][o],f=n[36][o+3];0!==Math.abs(i)?(u=(u+f*i)/2,Math.abs(u)<e[o]&&(u=u>0?e[o]:-e[o]),a[o]=u,Math.abs(a[o])>Math.abs(i)?(a[o]=i,n[36][o]=0,n[37][o]=0):n[36][o]-=a[o],n[37][o]=u):n[37][o]=0}(Math.abs(a[0])>b||Math.abs(a[1])>b)&&U(n,n[13][0]+a[0],n[13][1]+a[1],t.Br),n[33]&&(n[33][0]+=a[2])}},{id:h,update:function(n,r,t){for(var e=Q(n),a=0;a<2;++a){var o=e[a]-n[40][a],i=n[40][a+2];i=.9*i+.1*o,n[40][a+2]=i,n[40][a]=(n[40][a]+n[40][7]*i)*(1-n[40][8])+e[a]*n[40][8]}}},{id:m,update:function(n,r,t){var e,a,o,i;(n[42][3]=n[42][3]-r,n[42][3]<=0)||U(n,(e=n[42][3]/n[42][1],a=n[42][2]-n[42][0],o=n[42][2]+n[42][0],O(.5*(1-(i=1-2*e)*i*i),a,o)),n[13][1],t.Br)}},{id:p,update:function(n,r,t){var e=n[43][3];if(!(e>n[43][2])){n[43][3]+=1;var a=n[43][2]/2;if(e<a){var o=j(e/a,n[43][0],0);n[43][0]=j(e/a,o,n[43][1])}else n[43][0]=j((e-a)/a,n[43][1],0)}}}],qr=Vr.filter((function(n){return!!n.render})).reduce((function(n,r){return n[r.id]=r.render,n}),{}),Xr=Vr.filter((function(n){return!!n.update})).map((function(n){return{i:n.id,u:n.update}})),Qr=t(153),Yr=function(n,r){console.log("onGameOver"),Zr("GameOver"),Jr("next","restart-game",n,r)},Wr=function(n,r,t){console.log("onLevelComplete",n),Zr("LevelComplete",n),Jr("next","new-level",r,t)};function Zr(n,r){var t={event_category:"PlayGame",event_label:"builtIn_hopMania",dimension1:"GC_pga"};void 0!==r&&(t.level_index=r),window.gtag&&window.gtag("event",n,t)}function Jr(n,r,t,e){window.adBreak&&window.adBreak({type:n,name:r,beforeAd:t,afterAd:e})}var nt={},rt=function(){et(0)},tt=function(){et(1)};function et(n){for(var r=0,t=Object.keys(nt);r<t.length;r++){var e=t[r];nt[e].volume(n)}}function at(n,r,t,e,a,o,i,u,f){Er[t[0]](ft(n),t,r,e?1:n.Qr,a,o,i,u,f)}var ot=null;function it(n){return{Ot:function(r,t,e){if("score"===r){var a=e?0:n.Nr;n.Nr=a+t;var o=e?0:n.Rr;n.Rr=o+t,GAMESNACKS&&GAMESNACKS.sendScore({score:n.Nr})}else{n.qr[r]||(n.qr[r]=0);a=e?0:n.qr[r];n.qr[r]=a+t}},Er:function(){return n.Er},Br:function(){return n.Br},Nt:function(n){return n.rand()},Rt:dt.bind(null,n),Hr:function(){return n.Hr},zt:function(r,t,e,a,o){n.Jr=r,n.tt=a,e?n.rt=1:(n.rt=t?100:36,t&&(vn(n.it,!1,o,0,0,"#b5a100",[5,5],60,.25,[0,-1]),n.Rr<=(n.bt[n.Zr].es||0)&&(vn(n.it,!1,K(o,50),0,0,"#38940d",[5,5],60,.25,[0,-1]),vn(n.it,!1,K(o,50),0,0,"#007eab",[5,5],60,.25,[0,-1]),vn(n.it,!1,K(o,50),0,0,"#ad0040",[5,5],60,.25,[0,-1])),function(n,r){t=n.it,e=["#FDF6BF","#91E46B","#86DCFB","#EE80C5"],a=20,o=new sn(!0,2,64,[-540,-1e3],[1080,a],[0,0],40,80,e,1,0,0),t.push(o),n.jr.tr.addNotification(n,r);var t,e,a,o}(n,"Level Complete!"),GAMESNACKS.levelComplete(n.Zr+1))),n.Rr=0},Et:function(){n.nt=!0,n.rt=0},ar:function(){return n.St.ar},Dt:at,Bn:function(){return n.Er.C_.array[0]},Gt:function(r){n.Yr=r},Lt:function(){return n.Zr},jt:function(r){return"score"===r?n.Nr:"_par"===r?n.bt[n.Zr].es:"_levelScore"===r?n.Rr:n.qr[r]||0},It:function(){return n.it},Kt:function(){0===n.vt&&(n.vt=1)},Bt:function(){return n.Ur},Ht:function(n,r,t){var e=nt[r];e||(e=new Qr.Howl({src:["./"+r],loop:n}),nt[r]=e),n&&e.stop();var a=e.play();e.volume(t,a)},Ut:function(r,t,e){n.dt[n.Zr].push([r,t,e])}}}function ut(){Qr.Howler.stop()}function ft(n){return ot||(ot=it(n)),ot}function ct(n,r,t,e,a,o){ot=null;var i=function(n,r,t,e){var a={ne:-1};return a.St=e.makeRenderState(n,t,e),a.jr=hn.makeRenderState(r,t,hn),$n(a),a}(n,r,e,nr);return vt(i,e,a,o),function(n,r,t){r,n.addEventListener("mousedown",(function(n){Gr||(zr.Vt=Kr(t,n),zr.qt=0,zr.Xt=zr.Vt)})),n.addEventListener("mousemove",(function(n){Gr||(zr.Vt=Kr(t,n))})),n.addEventListener("mouseup",(function(n){Gr||(zr.Vt=Kr(t,n),zr.qt=1)})),n.addEventListener("touchstart",(function(n){0!==n.touches.length&&(zr.Vt=Kr(t,n.touches[0]),zr.qt=0,zr.Xt=zr.Vt,Gr=!0,n.preventDefault())}),!1),n.addEventListener("touchmove",(function(n){0!==n.touches.length&&(zr.Vt=Kr(t,n.touches[0]),n.preventDefault())}),!1),n.addEventListener("touchend",(function(n){zr.qt=1,n.preventDefault()}),!1),window.addEventListener("keydown",(function(n){switch(n.keyCode){case 32:zr.Jt=!0;break;case 87:case 38:zr.Wt=!0;break;case 65:case 37:zr.Qt=!0;break;case 83:case 40:zr.Zt=!0;break;case 68:case 39:zr.Yt=!0}}),!1),window.addEventListener("keyup",(function(n){switch(n.keyCode){case 32:zr.Jt=!1;break;case 87:case 38:zr.Wt=!1;break;case 65:case 37:zr.Qt=!1;break;case 83:case 40:zr.Zt=!1;break;case 68:case 39:zr.Yt=!1}}),!1)}(r,ft.bind(i),t),i}function vt(n,r,t,e){ut(),_n(n,r,t=t||0,e),n.St.Ft=[],n.St.Tt=!0,n.St.kt=[],n.St.Pt=!0,n.jr.sr=[],n.jr.dr=!0,pt(n,n.Zr)}function lt(n,r,t){var e,a,o,i,u=void 0!==r.name;if(u||Array.isArray(r[1]))if(u?(o=r.name,i=r.p):(o=r[0],i=r[1]),i.length<3)e=[i[0],i[1],0],a=[0,0,0];else if(3===i.length)e=i.slice(0,3),a=[0,0,0];else{e=i.slice(0,3),a=i.slice(3,6);for(f=0;f<a.length;++f)a[f]=T(a[f])}else if("number"==typeof(o=r[0])&&(o="o"+o),r.length<4)e=[r[1],r[2],0],a=[0,0,0];else if(4===r.length)e=r.slice(1,4),a=[0,0,0];else{e=r.slice(1,4),a=r.slice(4,7);for(var f=0;f<a.length;++f)a[f]=T(a[f])}if(void 0!==t)for(f=0;f<t.length;++f)e[f]+=t[f];return dt(n,o,e,a,null,!1)}function st(n,r){n.St.tr.rendererSetSize(n,r)}function dt(r,t,e,a,o,i){var u=r.Or.o[t];r.Er[t].array.length<=r.Er[t].length&&r.Er[t].array.push({}),r.Er[t].length++;var f=r.Er[t].length-1,c=r.Er[t].array[f],v=++r.Lr,s=t+"_"+v;r.Br[s]=c,c.type=t,c.index=f,c.uid=s,c.label=u[3]||"",c.drawId=v,c.rand=P(r.Vr[0],i?r.Ur:r.Er[t].totalOccurances++),c.d={},c.d[0]=!0,c.d[17]=!0,c.d[16]=!0,c.d[20]=!0,c.d[27]=!0,c.d[32]=!0,c.d[44]=2,c[36]=[0,0,0,.25,.25,.03],c[37]=[0,0,0],c[13]=e.slice(0,2),c[14]=a[0],c[15]=1;for(var d=[],h=0,m=u[0];h<m.length;h++){var p=m[h];if(c[p[0]]=p.slice(1),qr[p[0]]){if(p[0]===n&&!p[4])continue;d.push([c,p[0]])}}c[33]&&(c[33][0]+=e[2]||0,c[33][8]=c[33][0],c[33][3]=r.ht[c[33][3]||0]),c[7]||(c[7]=[1]),c[39]&&r.ot.push(c.uid),c[38]&&c[10]&&(c[10][3]=r.wt),c.drawId=v,c[1]=[0,0],c.a=[];for(var w=0;w<6;++w)c.a[w]=[];for(var y=0,M=u[1];y<M.length;y++){var b=(k=M[y])[0][0],g=k[0][1],A=k.slice(2);44===A[0]&&(c[13][0]+=2e3,c[42]=void 0),0===b?0!==g&&4!==g&&5!==g||!k[0][2]?c.a[g].push([k[1],A]):c.a[g].push([k[0][2],k[1],A]):1===b?r.zr[g+0].push([s,k[1],A]):2===b?r.Gr.push([k[0].slice(2).concat([k[0][3]]),s,k[1],A]):r.Kr.push([k[0].slice(2),s,k[1],A]),13===k[2]&&(c[30]=[0,k[3]<0],r.St.Ft.push([c,l]),r.St.Tt=!0)}c.b=[];for(var x=0,$=u[2];x<$.length;x++){var _=$[x];c.b.push(dt(r,_[0],[_[1],_[2],0],[T(_[3]||0),0,0],c,i))}c.c=o,c.e={},c.f={},c.f[4]=a[1],c.f[5]=a[2];for(var C=0,F=c.a[2];C<F.length;C++){var k;wt(r,c,(k=F[C])[0])&&at(r,c,k[1],!0)}if(c[10]&&c[10][3]&&(c[10][3]=H(c[10][3])),c[11]&&c[11][0]&&(c[11][0]=H(c[11][0])),c[28]&&(c[28]=H(c[28])),d.length>0)for(var S=0,I=d;S<I.length;S++){var D=I[S];if(c[33]){if(void 0===c[33][2]||""===c[33][2]||"None"===c[33][2])continue;Mt(c)?(r.St.kt.push(D),r.St.Pt=!0):(r.St.Ft.push(D),r.St.Tt=!0)}else r.jr.sr.push(D),r.jr.dr=!0}return s}function ht(n,r,t){var e=r[0],a=r[1],o=r[2];if(n.rt<=0)return function(n,r,t,e,a){var o=function(n){if(n.nt&&n.rt<=0){n.nt=!1,n.ne=n.Nr;var r=n.Mt.intro||0;return vt(n,n.Or,r,[n.Vr[0],[],n.wt,n.yt]),Yr(rt,tt),{gameOver:!0,lost:!1,newLevel:r}}if(n.Jr>-1&&n.rt<=0){var t=n.Zr;return n.Zr=n.Jr,n.Zr>=n.Or.a.length?n.Zr=n.Or.a.length-1:n.Zr<0&&(n.Zr=0),n.tt||(n.Hr=Object.keys(n.Br),yt(n,!0),n.ct={index:0,completed:0},n.et=[n.bt[n.Zr].offsetX||0,-1*(n.bt[n.Zr].offsetY||0),n.bt[n.Zr].offsetZ||0],n.st=[],Wr(t,rt,tt)),pt(n,n.Zr),n.Jr=-1,n.Ur=0,{gameOver:!1,lost:!1,newLevel:n.Zr}}return}(n);if(o)return o;var i=n.Qr;n.Ur++,n.Xr=[mt(e)],n.Mt.dynLevels&&function(n){for(var r=0,t=null,e=0,a=n.ot;e<a.length;e++){var o=a[e];if(n.Br[o]){var i=n.Br[o][13][1];r=Math.min(r,i),t=null===t?i:Math.max(t,i)}}for(;r-n.Mt.dynLevelOffset<n.et[1];){for(var u=n.ct.index,f=n.ft[n.Zr][u],c=n.Wr()*f.weightSum,v=0,l=-1,s=0,d=f.choices;s<d.length;s++){var h=d[s],m=h[0];if(c<=(v+=h[1])){l=m;break}}if(-1===l)return void console.warn("No level choices to select from?",f.choices);n.st.push([n.et[1]+-1*(n.bt[l].offsetY||0),[]]);for(var p=n.st.length-1,w=0,y=n.Or.a[l];w<y.length;w++){var M=lt(n,y[w],n.et);n.st[p][1].push(M)}n.et[0]+=n.bt[l].offsetX||0,n.et[1]+=-1*(n.bt[l].offsetY||0),n.et[2]+=n.bt[l].offsetZ||0,n.ct.completed++,n.ct.completed>=f.times&&n.ct.index<n.ft[n.Zr].length-1&&(n.ct.completed=0,n.ct.index++)}for(;null!==t&&n.st.length>0&&t+n.Mt.dynLevelOffset<n.st[0][0];){var b=n.st.shift();if(b&&b[1]){for(var g=0,A=b[1];g<A.length;g++){M=A[g];n.Hr.push(M)}yt(n,!0)}}}(n);for(var u=[],f=0,c=r;f<c.length;f++)for(var v=c[f],l=0,s=n.zr[v];l<s.length;l++){var d=s[l];if(wt(n,A=n.Br[d[0]],d[1])){var h=v<3;u.push([A,d[2],h])}}for(var m=0,p=u;m<p.length;m++){var w=p[m];at(n,A=w[0],v=w[1],h=w[2],null,null,t,e)}for(var y=0,M=Object.values(n.Er);y<M.length;y++)for(var b=M[y],g=0;g<b.length;++g){for(var A=b.array[g],x=0,$=Xr;x<$.length;x++){var _=$[x];A[_.i]&&_.u(A,i,n)}for(var C=0,F=A.a[3];C<F.length;C++){wt(n,A,(d=F[C])[0])&&at(n,A,d[1],!1)}}for(var T=0,k=Object.values(n.Er);T<k.length;T++)for(b=k[T],g=0;g<b.length;++g){A=b.array[g];Fr(n,ft(n),A,n.Er,b,n.St.rr)}for(var P=0,S=Object.values(n.Er);P<S.length;P++)for(b=S[P],g=0;g<b.length;++g){(A=b.array[g]).d[44]=2===A.d[44]}(function(n){n.Ur;for(var r=0;r<n.Gr.length;++r){var t,e;if((t=n.Gr[r])[0][2]-=n.Qr,t[0][2]<=0)t[0][0]?t[0][2]=t[0][1]:(n.Gr.splice(r,1),--r),wt(n,e=n.Br[t[1]],t[2])&&at(n,e,t[3],!1)}})(n),function(n){for(var r=0,t=n.Kr;r<t.length;r++){var e=t[r],a=e[0][0],o=e[0][1];if(n.Er[a].length<=o){var i=n.Br[e[1]];i&&wt(n,i,e[2])&&at(n,i,e[3],!1)}}}(n),yt(n,!1),n.Qr=.86*n.Qr+.14*n.Yr;var I=!1;1===n.vt&&(I=!0,n.vt=2);return{gameOver:!1,lost:I}}(n,e,a,o);n.rt--;for(var i=0,u=Xr.filter((function(n){return n.i===v}));i<u.length;i++){var f=u[i];ft(n).Bn()[f.i]&&f.u(ft(n).Bn(),1,n)}return{gameOver:!1,lost:!1}}function mt(n){var r=S(n);return[r[0]*M(500,r[2]),r[1]*M(500,r[2])]}function pt(n,r){if(lt(n,[k,0,0]),n.dt[r])for(var t=0,e=n.dt[r];t<e.length;t++){var a=e[t],o=a[0],i=a[1],u=a[2];dt(n,o,[i[0],i[1],u],[0,0,0],null,!1)}for(var f=0,c=n.Or.a[r];f<c.length;f++){lt(n,c[f])}}function wt(n,r,t){return!t||(t&&1===t[0]?r[1][1]>=0:t&&t[0]>1&&t[0]<5?(n.qr.TUT||0)===t[0]-2:t&&5===t[0]?S(r[1])[2]<=20:!t||6!==t[0]||S(r[1])[2]>20)}function yt(n,r){for(var t=function(t){var e=n.Br[t];if(null==e)return"continue";delete n.Br[t];var a=n.Er[e.type],o=e.index;if(!r)for(var i=0,u=a.array[o].a[1];i<u.length;i++){var f=u[i];wt(n,a.array[o],f[0])&&at(n,a.array[o],f[1],!0)}a.length>1&&(a.array[o]=a.array[a.length-1],a.array[o].index=o,a.array.splice(a.length-1)),a.length-=1;for(var c=0;c<9;++c)for(var v=0;v<n.zr[c].length;++v)n.zr[c][v][0]===t&&(n.zr[c].splice(v,1),v--);for(v=0;v<n.Gr.length;++v)n.Gr[v][1]===t&&(n.Gr.splice(v,1),v--);for(v=0;v<n.Kr.length;++v)n.Kr[v][1]===t&&(n.Kr.splice(v,1),v--);if(e.c){var l=e.c.b.indexOf(t);l>-1&&e.c.b.splice(l,1)}for(var s=0,d=e.b;s<d.length;s++){var h=d[s];n.Hr.push(h)}e[33]?Mt(e)?(n.St.kt=n.St.kt.filter((function(n){var r=n[0];n[1];return r.uid!==t})),n.St.Pt=!0):(n.St.Ft=n.St.Ft.filter((function(n){var r=n[0];n[1];return r.uid!==t})),n.St.Tt=!0):(n.jr.sr=n.jr.sr.filter((function(n){var r=n[0];n[1];return r.uid!==t})),n.jr.dr=!0)},e=0,a=n.Hr;e<a.length;e++){t(a[e])}n.Hr=[]}function Mt(n){return n[10]||n[9]}function bt(n){n.St.tr.renderScene(n,n.St.Tt,n.St.Ft,n.Xr,n.Qr,n.it),n.jr.tr.renderScene(n,n.jr.dr,n.jr.sr,n.Xr,n.Qr,n.it)}var gt,At,xt,$t,_t,Ct,Ft,Tt,kt=!1,Pt=!1,St=[],It=!0,Dt=!1,jt=!1,Ot={imgButton:null,modal:null},Nt=[],Rt=[[],[0,0]],Et=Rt;var Bt=!1;function Lt(n,r,t){Pt=!0===r,gt=n;try{if(At=document.getElementById("canvas_canvas"),xt=At.getContext("2d"),!At||!xt)return console.error("Cancelling: unexpected null canvas"),void(Bt=!0)}catch(n){return console.error("Cancelling: canvas get threw"),void(Bt=!0)}if(_t=!1,At.parentElement){var e=document.getElementById("pauseButton");e instanceof HTMLImageElement&&(e.onclick=function(){return jt=!0,void(Ot.imgButton&&Ot.modal&&(Ot.imgButton.style.display="none",Ot.modal.style.display="block"))}),Ot.imgButton=e;var a=document.getElementById("modal_o");Ot.modal=a;var o=document.getElementById("modal_bg");o&&(o.onclick=function(){return zt()});var i=document.getElementById("resume");i&&(i.onclick=function(){return zt()})}Ct=!1}function zt(){jt=!1,Ot.imgButton&&Ot.modal&&(Ot.imgButton.style.display="block",Ot.modal.style.display="none")}function Gt(n,r,t){if(Bt)return console.error("Critical Error"),void((o=document.getElementById("container"))&&(o.style.background="#639f4f"));St=[],Ft=n,Tt=r=r||0,It=!0,t=[Date.now(),[],null],[];var e=document.getElementById("restart");e&&(e.onclick=function(){re(n,r,t),zt()});try{if(_t)for(var a=0;a<13;++a)Kt(0===a,a,n,r,void 0,t);else Kt(!0,0,n,Tt,gt,t)}catch(n){var o;return console.error("Critical Error 2"),void((o=document.getElementById("container"))&&(o.style.background="#639f4f"))}kt||Pt||(kt=!0,$t=requestAnimationFrame(Ht))}function Kt(n,r,t,e,a,o){var i=a||document.createElement("canvas");i.width=1080,i.height=1920;var u=ct(i,document.getElementById("canvas_canvas"),(function(n){return n[0]*=1,n[1]*=1,n}),t,e,o);st(u,[1080,1920]),St.push({re:n,te:""+r,ee:u,ae:i,oe:0,ie:0,Zr:e,zn:o[0],fe:[],ce:0})}function Ht(){!function(){var n=(Ut=Date.now())-Wt;if(Wt=Ut,n<=14){if(Zt)return void(Zt=!1);Zt=!0}Vt<Xt&&(Vt=1e3);0;Yt||(GAMESNACKS&&GAMESNACKS.gameReady(),Yt=!0);if(Vt<Xt&&St[1]){Vt++;var r=[[],[0,0],[0,0]];ht(St[1].ee,r);return bt(St[1].ee),xt.fillStyle="#000000",xt.globalAlpha=Math.max(0,(Vt-qt)/130),xt.setTransform(1,0,0,1,0,0),xt.fillRect(0,0,1080,1920),void(xt.globalAlpha=1)}Vt===Xt?(st(St[0].ee,[1080,1920]),++Vt):Vt<Qt&&++Vt;It||0!==St.length||Gt(Ft,Tt);Dt||jt||(Ot.imgButton&&Ot.modal&&(Ot.imgButton.style.display="block",Ot.modal.style.display="none"),Dt=!0);if(_t);else{var t=St[0];if(t){var e={lost:!1,gameOver:!1};if(!jt&&Vt>=Qt){var a=Ur(!t.re,t.ie,t.fe);0;var o=void 0;Nt[t.Zr]&&(o=Nt[t.Zr][t.oe]),o||(o=Et);var i=[o[0],o[1],[o[1][0]-Et[1][0],o[1][1]-Et[1][1]],o[3]];Et=o;Ct?(a=i,[[],[0,0],[0,0]]):i,e=ht(t.ee,a),++t.oe,++t.ie}if(void 0===e.newLevel)bt(t.ee),Vt<Qt&&(xt.fillStyle="#000000",xt.globalAlpha=Math.min(1,(Qt-Vt)/70),xt.setTransform(1,0,0,1,0,0),xt.fillRect(0,0,1080,1920),xt.globalAlpha=1);else t.Zr=e.newLevel,[],Et=Rt,t.oe=0;if(e.lost);e.gameOver&&([],{},t.oe=0,GAMESNACKS.gameOver())}}}(),$t=requestAnimationFrame(Ht)}var Ut,Vt=0,qt=50,Xt=180,Qt=250,Yt=!1,Wt=0,Zt=!0;function Jt(n,r,t){Lt(n,r)}function ne(){!function(){for(var n=0,r=St;n<r.length;n++){t=r[n].ee,ut(),t.Or={}}var t;St=[],kt=!1,$t&&window.cancelAnimationFrame($t)}()}function re(n,r,t){Gt(n,r,t)}function te(n){!function(n){for(var r=[],t=0;t<n;++t){var e=Ur(!0,t,r);ht(St[0].ee,e)}}(n)}function ee(){return{score:(n=St[0].ee).Nr,objects:n.Er,objectMap:n.Br,actions:n.zr,actionTimers:n.Gr,actionCheckers:n.Kr,toDestroyList:n.Hr};var n}}(),Kitchen=e}();